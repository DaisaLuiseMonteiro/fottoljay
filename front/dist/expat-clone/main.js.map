{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/models/product.model.ts","./src/app/pages/admin-notifications/admin-notifications.component.ts","./src/app/pages/admin-notifications/admin-notifications.component.html","./src/app/pages/admin-produits/admin-produits.component.ts","./src/app/pages/admin-produits/admin-produits.component.html","./src/app/pages/admin-vendeurs/admin-vendeurs.component.ts","./src/app/pages/admin-vendeurs/admin-vendeurs.component.html","./src/app/pages/buy-credits/buy-credits.component.html","./src/app/pages/buy-credits/buy-credits.component.ts","./src/app/pages/dashboard-admin/dashboard-admin.component.ts","./src/app/pages/dashboard-admin/dashboard-admin.component.html","./src/app/pages/dashboard-vendeur/dashboard-vendeur.component.ts","./src/app/pages/dashboard-vendeur/dashboard-vendeur.component.html","./src/app/pages/home/home.component.html","./src/app/pages/home/home.component.ts","./src/app/pages/login/login.component.ts","./src/app/pages/login/login.component.html","./src/app/pages/register/register.component.ts","./src/app/pages/register/register.component.html","./src/app/services/user.service.ts","./src/app/shared/admin-navbar/admin-navbar.component.ts","./src/app/shared/admin-navbar/admin-navbar.component.html","./src/main.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { LoginComponent } from './pages/login/login.component';\nimport { RegisterComponent } from './pages/register/register.component';\nimport { DashboardAdminComponent } from './pages/dashboard-admin/dashboard-admin.component';\nimport { DashboardVendeurComponent } from './pages/dashboard-vendeur/dashboard-vendeur.component';\nimport { HomeComponent } from './pages/home/home.component';\nimport { AdminVendeursComponent } from './pages/admin-vendeurs/admin-vendeurs.component';\nimport { AdminProduitsComponent } from './pages/admin-produits/admin-produits.component';\nimport { AdminNotificationsComponent } from './pages/admin-notifications/admin-notifications.component';\nimport { BuyCreditsComponent } from './pages/buy-credits/buy-credits.component';\n\nconst routes: Routes = [\n  { path: 'login', component: LoginComponent },\n  { path: 'register', component: RegisterComponent },\n  { path: 'admin/dashboard', component: DashboardAdminComponent },\n  { path: 'admin/vendeurs', component: AdminVendeursComponent },\n  { path: 'admin/produits', component: AdminProduitsComponent },\n  { path: 'admin/notifications', component: AdminNotificationsComponent },\n  { path: 'vendeur/dashboard', component: DashboardVendeurComponent },\n  { path: 'buy-credits', component: BuyCreditsComponent },\n  { path: 'home', component: HomeComponent },\n  { path: '', redirectTo: '/home', pathMatch: 'full' }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  template: '<router-outlet></router-outlet>',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'expat-clone';\n}\n","import { NgModule, LOCALE_ID } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { HttpClientModule } from '@angular/common/http';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { registerLocaleData } from '@angular/common';\nimport localeFr from '@angular/common/locales/fr';\nimport { NgChartsModule } from 'ng2-charts';\n\nregisterLocaleData(localeFr);\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { LoginComponent } from './pages/login/login.component';\nimport { RegisterComponent } from './pages/register/register.component';\nimport { DashboardAdminComponent } from './pages/dashboard-admin/dashboard-admin.component';\nimport { DashboardVendeurComponent } from './pages/dashboard-vendeur/dashboard-vendeur.component';\nimport { HomeComponent } from './pages/home/home.component';\nimport { AdminVendeursComponent } from './pages/admin-vendeurs/admin-vendeurs.component';\nimport { AdminProduitsComponent } from './pages/admin-produits/admin-produits.component';\nimport { AdminNavbarComponent } from './shared/admin-navbar/admin-navbar.component';\nimport { AdminNotificationsComponent } from './pages/admin-notifications/admin-notifications.component';\nimport { BuyCreditsComponent } from './pages/buy-credits/buy-credits.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    LoginComponent,\n    RegisterComponent,\n    DashboardAdminComponent,\n    DashboardVendeurComponent,\n    HomeComponent,\n    AdminVendeursComponent,\n    AdminProduitsComponent,\n    AdminNavbarComponent,\n    AdminNotificationsComponent,\n    BuyCreditsComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    HttpClientModule,\n    ReactiveFormsModule,\n    FormsModule,\n    NgChartsModule\n  ],\n  providers: [\n    { provide: LOCALE_ID, useValue: 'fr-FR' }\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","export interface Product {\n  id: string;\n  name: string;\n  description: string;\n  price: number;\n  category: ProductCategory;\n  status: ProductStatus;\n  sellerId: string;\n  seller: {\n    id: string;\n    firstName: string;\n    lastName: string;\n    email: string;\n    phone?: string;\n    whatsappLink?: string;\n  };\n  photos: Photo[];\n  createdAt: Date;\n  updatedAt: Date;\n  isFeatured?: boolean;\n}\n\nexport interface Photo {\n  id: string;\n  productId: string;\n  url: string;\n  type: 'MAIN' | 'SECONDARY';\n  order: number;\n  createdAt: Date;\n}\n\nexport type ProductCategory =\n  | 'AGROALIMENTAIRE'\n  | 'ANIMAUX'\n  | 'IMMOBILIER'\n  | 'MAISON'\n  | 'EQUIPEMENT'\n  | 'MODE_BEAUTE'\n  | 'MULTIMEDIA'\n  | 'SPORT_LOISIRS'\n  | 'VEHICULES'\n  | 'AUTRE';\n\nexport type ProductStatus = 'PENDING' | 'APPROVED' | 'REJECTED';\n\nexport const PRODUCT_CATEGORIES: { value: ProductCategory; label: string }[] = [\n  { value: 'AGROALIMENTAIRE', label: 'Agroalimentaire' },\n  { value: 'ANIMAUX', label: 'Animaux' },\n  { value: 'IMMOBILIER', label: 'Immobilier' },\n  { value: 'MAISON', label: 'Maison' },\n  { value: 'EQUIPEMENT', label: 'Équipement' },\n  { value: 'MODE_BEAUTE', label: 'Mode & Beauté' },\n  { value: 'MULTIMEDIA', label: 'Multimédia' },\n  { value: 'SPORT_LOISIRS', label: 'Sport & Loisirs' },\n  { value: 'VEHICULES', label: 'Véhicules' },\n  { value: 'AUTRE', label: 'Autre' }\n];","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { UserService } from '../../services/user.service';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\ninterface Notification {\n  id: number;\n  type: 'new_seller' | 'new_product';\n  title: string;\n  message: string;\n  createdAt: Date;\n  read: boolean;\n  sellerId?: number;\n  productId?: number;\n}\n\n@Component({\n  selector: 'app-admin-notifications',\n  templateUrl: './admin-notifications.component.html',\n  styleUrls: ['./admin-notifications.component.scss']\n})\nexport class AdminNotificationsComponent implements OnInit, OnDestroy {\n  currentUser: any = null;\n  notifications: Notification[] = [];\n  loading = false;\n  currentPage = 1;\n  totalPages = 1;\n  private routerSubscription: Subscription = new Subscription();\n\n  constructor(private userService: UserService, private router: Router) {}\n\n  resetNavbarUnreadCount() {\n    // Reset the unread count in the navbar by calling the service\n    this.userService.resetUnreadNotificationsCount().subscribe({\n      next: () => {\n        // Count will be reset to 0 in the navbar via route change listener\n      },\n      error: (error: any) => {\n        console.error('Error resetting unread notifications count:', error);\n      }\n    });\n  }\n\n  ngOnInit() {\n    this.loadCurrentUser();\n    this.loadNotifications();\n\n    // Listen to route changes to reload notifications when navigating to this page\n    this.routerSubscription = this.router.events\n      .pipe(filter((event): event is NavigationEnd => event instanceof NavigationEnd))\n      .subscribe((event) => {\n        if (event.url === '/admin/notifications') {\n          this.loadNotifications();\n          // Reset unread count in navbar when entering notifications page\n          this.resetNavbarUnreadCount();\n        }\n      });\n  }\n\n  ngOnDestroy() {\n    this.routerSubscription.unsubscribe();\n  }\n\n  loadCurrentUser() {\n    this.userService.getCurrentUser().subscribe({\n      next: (response) => {\n        this.currentUser = response.user;\n      },\n      error: () => {\n        this.router.navigate(['/login']);\n      }\n    });\n  }\n\n  loadNotifications(page = 1) {\n    this.loading = true;\n    this.userService.getNotifications(page, 4).subscribe({\n      next: (response: any) => {\n        this.notifications = response.notifications.map((notification: any) => ({\n          id: notification.id,\n          type: notification.type === 'NEW_SELLER' ? 'new_seller' : 'new_product',\n          title: notification.title,\n          message: notification.message,\n          createdAt: new Date(notification.createdAt),\n          read: notification.read,\n          sellerId: notification.sellerId,\n          productId: notification.productId\n        }));\n        this.currentPage = response.pagination.page;\n        this.totalPages = response.pagination.totalPages;\n        this.loading = false;\n      },\n      error: (error) => {\n        console.error('Error loading notifications:', error);\n        this.loading = false;\n      }\n    });\n  }\n\n  markAsRead(notification: Notification) {\n    this.userService.markNotificationAsRead(notification.id.toString()).subscribe({\n      next: () => {\n        notification.read = true;\n      },\n      error: (error) => {\n        console.error('Error marking notification as read:', error);\n      }\n    });\n  }\n\n  approveProduct(notification: Notification) {\n    if (notification.productId) {\n      this.userService.updateProductStatus(notification.productId.toString(), 'APPROVED').subscribe({\n        next: () => {\n          this.markAsRead(notification);\n          alert('Produit approuvé avec succès!');\n          this.loadNotifications(); // Refresh notifications\n        },\n        error: (error) => {\n          console.error('Error approving product:', error);\n          alert('Erreur lors de l\\'approbation du produit');\n        }\n      });\n    }\n  }\n\n  rejectProduct(notification: Notification) {\n    if (notification.productId) {\n      this.userService.updateProductStatus(notification.productId.toString(), 'REJECTED').subscribe({\n        next: () => {\n          this.markAsRead(notification);\n          alert('Produit rejeté!');\n          this.loadNotifications(); // Refresh notifications\n        },\n        error: (error) => {\n          console.error('Error rejecting product:', error);\n          alert('Erreur lors du rejet du produit');\n        }\n      });\n    }\n  }\n\n  nextPage() {\n    if (this.currentPage < this.totalPages) {\n      this.loadNotifications(this.currentPage + 1);\n    }\n  }\n\n  prevPage() {\n    if (this.currentPage > 1) {\n      this.loadNotifications(this.currentPage - 1);\n    }\n  }\n\n  logout() {\n    this.userService.logout().subscribe({\n      next: () => {\n        this.router.navigate(['/login']);\n      },\n      error: (error) => {\n        console.error('Logout error:', error);\n        this.router.navigate(['/login']);\n      }\n    });\n  }\n}\n","<div class=\"flex h-screen bg-gray-100\">\n  <!-- Sidebar -->\n  <div class=\"w-56 bg-orange-500 text-white flex flex-col fixed h-full z-10\">\n    <div class=\"p-5 border-b border-orange-400\">\n      <h2 class=\"text-xl font-bold text-center\">Photol Jay</h2>\n    </div>\n    <nav class=\"flex-1 py-5\">\n      <a routerLink=\"/admin/dashboard\" routerLinkActive=\"bg-orange-600\" class=\"flex items-center px-5 py-3 text-white hover:bg-orange-600 transition-colors\">\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"/>\n        </svg>\n        <span class=\"ml-3\">Tableau de bord</span>\n      </a>\n      <a routerLink=\"/admin/vendeurs\" routerLinkActive=\"bg-orange-600\" class=\"flex items-center px-5 py-3 text-white hover:bg-orange-600 transition-colors\">\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\"/>\n        </svg>\n        <span class=\"ml-3\">Vendeurs</span>\n      </a>\n      <a routerLink=\"/admin/produits\" routerLinkActive=\"bg-orange-600\" class=\"flex items-center px-5 py-3 text-white hover:bg-orange-600 transition-colors\">\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"/>\n        </svg>\n        <span class=\"ml-3\">Produits</span>\n      </a>\n\n      <a routerLink=\"/admin/notifications\" routerLinkActive=\"bg-orange-600\" class=\"flex items-center px-5 py-3 text-white hover:bg-orange-600 transition-colors\">\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\"/>\n        </svg>\n        <span class=\"ml-3\">Notifications</span>\n      </a>\n      <a routerLink=\"/admin/parametres\" routerLinkActive=\"bg-orange-600\" class=\"flex items-center px-5 py-3 text-white hover:bg-orange-600 transition-colors\">\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"/>\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"/>\n        </svg>\n        <span class=\"ml-3\">Paramètres</span>\n      </a>\n    </nav>\n    <div class=\"py-5 border-t border-orange-400\">\n      <button (click)=\"logout()\" class=\"flex items-center px-5 py-3 text-white hover:bg-orange-600 transition-colors w-full text-left\">\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"/>\n        </svg>\n        <span class=\"ml-3\">Déconnexion</span>\n      </button>\n    </div>\n  </div>\n\n  <!-- Main Content -->\n  <div class=\"flex-1 ml-56 flex flex-col\">\n    <!-- Navbar -->\n    <app-admin-navbar></app-admin-navbar>\n\n    <!-- Content -->\n    <div class=\"flex-1 p-8 pt-20\">\n      <div class=\"mb-6\">\n        <h1 class=\"text-3xl font-bold mb-2\">Notifications</h1>\n        <p class=\"text-gray-600\">Restez informé de l'activité de la plateforme</p>\n      </div>\n\n      <div class=\"space-y-4\">\n        <div *ngFor=\"let notification of notifications\" class=\"bg-white rounded-lg shadow-md p-4 border-l-4\" [ngClass]=\"{'border-l-blue-500': notification.type === 'new_seller', 'border-l-orange-500': notification.type === 'new_product'}\">\n          <div class=\"flex items-start space-x-4\">\n            <!-- Icon -->\n            <div class=\"flex-shrink-0\">\n              <div class=\"w-10 h-10 rounded-full flex items-center justify-center\" [ngClass]=\"{'bg-blue-100 text-blue-600': notification.type === 'new_seller', 'bg-orange-100 text-orange-600': notification.type === 'new_product'}\">\n                <span class=\"text-xl\">{{ notification.type === 'new_seller' ? '👤' : '📦' }}</span>\n              </div>\n            </div>\n\n            <!-- Content -->\n            <div class=\"flex-1\">\n              <div class=\"flex items-start justify-between\">\n                <div>\n                  <h3 class=\"text-lg font-semibold text-gray-900\">{{ notification.title }}</h3>\n                  <p class=\"text-gray-600 mt-1\">{{ notification.message }}</p>\n                  <p class=\"text-sm text-gray-500 mt-2\">{{ notification.createdAt | date:'dd/MM/yyyy à HH:mm' }}</p>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                  <!-- Bouton de marquage comme lu supprimé -->\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div *ngIf=\"notifications.length === 0 && !loading\" class=\"text-center py-12\">\n          <div class=\"text-gray-400 text-6xl mb-4\">🔔</div>\n          <h3 class=\"text-lg font-medium text-gray-900 mb-2\">aucune notifications</h3>\n          <p class=\"text-gray-500\">Vous serez notifié des nouvelles activités sur la plateforme.</p>\n        </div>\n\n        <div *ngIf=\"loading\" class=\"text-center py-12\">\n          <div class=\"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto\"></div>\n          <p class=\"text-gray-500 mt-4\">Chargement des notifications...</p>\n        </div>\n      </div>\n\n      <!-- Pagination -->\n      <div class=\"flex justify-center mt-6\" *ngIf=\"totalPages > 1\">\n        <button (click)=\"prevPage()\" [disabled]=\"currentPage === 1\" class=\"px-4 py-2 mx-1 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed\">\n          Précédent\n        </button>\n        <span class=\"px-4 py-2 mx-1\">{{ currentPage }} / {{ totalPages }}</span>\n        <button (click)=\"nextPage()\" [disabled]=\"currentPage === totalPages\" class=\"px-4 py-2 mx-1 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed\">\n          Suivant\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { UserService } from '../../services/user.service';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-admin-produits',\n  templateUrl: './admin-produits.component.html',\n  styleUrls: []\n})\nexport class AdminProduitsComponent implements OnInit, OnDestroy {\n  currentUser: any = null;\n  products: any[] = [];\n  allProducts: any[] = [];\n  loadingProducts = false;\n  loading = false;\n  private routerSubscription: Subscription = new Subscription();\n\n  // Search and filter properties\n  searchQuery: string = '';\n  selectedFilter: string = 'all';\n\n  // Pagination properties\n  currentPage = 1;\n  itemsPerPage = 5;\n  totalPages = 1;\n  totalProducts = 0;\n\n  constructor(private userService: UserService, private router: Router) {}\n\n  ngOnInit() {\n    this.loadCurrentUser();\n    this.loadProducts();\n\n    // Listen to route changes to reload data when navigating to this page\n    this.routerSubscription = this.router.events\n      .pipe(filter((event): event is NavigationEnd => event instanceof NavigationEnd))\n      .subscribe((event) => {\n        if (event.url === '/admin/produits') {\n          this.loadProducts();\n        }\n      });\n  }\n\n  ngOnDestroy() {\n    this.routerSubscription.unsubscribe();\n  }\n\n  loadCurrentUser() {\n    this.userService.getCurrentUser().subscribe({\n      next: (response) => {\n        this.currentUser = response.user;\n      },\n      error: () => {\n        this.router.navigate(['/login']);\n      }\n    });\n  }\n\n\n  loadProducts() {\n    console.log('🔄 Début du chargement des produits...');\n    this.loadingProducts = true;\n    this.userService.getPendingProducts().subscribe({\n      next: (response) => {\n        this.loadingProducts = false;\n        this.allProducts = response.products || [];\n\n        // Apply filters\n        this.applyFilters();\n\n        console.log('✅ Produits chargés avec succès:', this.products.length, 'produits affichés sur', this.totalProducts, 'total');\n        console.log('📋 Détails des produits:', this.products);\n      },\n      error: (error) => {\n        this.loadingProducts = false;\n        console.error('❌ Erreur lors du chargement des produits:', error);\n        console.error('🔍 Détails de l\\'erreur:', error.error || error.message);\n        this.products = [];\n        this.allProducts = [];\n      }\n    });\n  }\n\n  isActiveRoute(route: string): boolean {\n    return this.router.url === route;\n  }\n\n  getPhotoUrl(url: string): string {\n    if (!url) return 'assets/images/no-image.png';\n    // If URL already starts with http/https, return as is (Cloudinary URL)\n    if (url.startsWith('http://') || url.startsWith('https://')) {\n      return url;\n    }\n    // Otherwise, prepend localhost for local uploads\n    return `http://localhost:3000${url}`;\n  }\n\n  onImageError(event: any, photo: any) {\n    console.log('Image failed to load:', photo?.url || 'No photo data');\n    // Prevent infinite loop by checking if we're already trying to load the fallback\n    if (!event.target.src.includes('no-image.png')) {\n      event.target.src = 'assets/images/no-image.png'; // Fallback image\n    }\n  }\n\n  applyFilters() {\n    let filteredProducts = [...this.allProducts];\n\n    // Apply search filter\n    if (this.searchQuery && this.searchQuery.length >= 2) {\n      filteredProducts = filteredProducts.filter(product =>\n        product.name.toLowerCase().includes(this.searchQuery.toLowerCase()) ||\n        product.seller?.firstName?.toLowerCase().includes(this.searchQuery.toLowerCase()) ||\n        product.seller?.lastName?.toLowerCase().includes(this.searchQuery.toLowerCase())\n      );\n    }\n\n    // Apply status filter\n    if (this.selectedFilter !== 'all') {\n      if (this.selectedFilter === 'VIP') {\n        filteredProducts = filteredProducts.filter(product => product.vipStatus === 1);\n      } else {\n        filteredProducts = filteredProducts.filter(product => product.status === this.selectedFilter);\n      }\n    }\n\n    // Calculate pagination\n    this.totalProducts = filteredProducts.length;\n    this.totalPages = Math.ceil(this.totalProducts / this.itemsPerPage);\n\n    // Reset to first page if current page is out of bounds\n    if (this.currentPage > this.totalPages) {\n      this.currentPage = 1;\n    }\n\n    // Get products for current page\n    const startIndex = (this.currentPage - 1) * this.itemsPerPage;\n    const endIndex = startIndex + this.itemsPerPage;\n    this.products = filteredProducts.slice(startIndex, endIndex);\n  }\n\n  // Search method\n  onSearchInput() {\n    this.currentPage = 1; // Reset to first page when searching\n    this.applyFilters();\n  }\n\n  // Filter method\n  onFilterChange() {\n    this.currentPage = 1; // Reset to first page when filtering\n    this.applyFilters();\n  }\n\n  logout() {\n    this.userService.logout().subscribe({\n      next: () => {\n        this.router.navigate(['/login']);\n      },\n      error: (error) => {\n        console.error('Logout error:', error);\n        this.router.navigate(['/login']);\n      }\n    });\n  }\n\n  // Modal methods\n  showProductModal = false;\n  selectedProduct: any = null;\n\n  // Photo modal properties\n  showPhotoModal = false;\n  selectedPhotoUrl: string | null = null;\n  selectedPhotoAlt: string = '';\n\n  openProductModal(product: any) {\n    this.selectedProduct = product;\n    this.showProductModal = true;\n  }\n\n  closeProductModal() {\n    this.showProductModal = false;\n    this.selectedProduct = null;\n  }\n\n  // Photo modal methods\n  openPhotoModal(photoUrl: string, alt: string) {\n    this.selectedPhotoUrl = photoUrl;\n    this.selectedPhotoAlt = alt;\n    this.showPhotoModal = true;\n  }\n\n  closePhotoModal() {\n    this.showPhotoModal = false;\n    this.selectedPhotoUrl = null;\n    this.selectedPhotoAlt = '';\n  }\n\n  // Pagination methods\n  nextPage() {\n    if (this.currentPage < this.totalPages) {\n      this.currentPage++;\n      this.applyFilters();\n    }\n  }\n\n  prevPage() {\n    if (this.currentPage > 1) {\n      this.currentPage--;\n      this.applyFilters();\n    }\n  }\n\n  goToPage(page: number) {\n    if (page >= 1 && page <= this.totalPages) {\n      this.currentPage = page;\n      this.applyFilters();\n    }\n  }\n\n  approveProduct(productId: string) {\n    this.loading = true;\n    this.userService.updateProductStatus(productId, 'APPROVED').subscribe({\n      next: () => {\n        this.loading = false;\n        // Update the product status in the local array immediately\n        const productIndex = this.allProducts.findIndex(p => p.id === productId);\n        if (productIndex !== -1) {\n          this.allProducts[productIndex].status = 'APPROVED';\n          this.applyFilters(); // Re-apply filters to update the displayed list\n        }\n        // Update the selected product status to hide buttons\n        if (this.selectedProduct && this.selectedProduct.id === productId) {\n          this.selectedProduct.status = 'APPROVED';\n        }\n      },\n      error: (error) => {\n        this.loading = false;\n        console.error('Erreur lors de l\\'approbation du produit');\n      }\n    });\n  }\n\n  rejectProduct(productId: string) {\n    this.loading = true;\n    this.userService.updateProductStatus(productId, 'REJECTED').subscribe({\n      next: () => {\n        this.loading = false;\n        // Update the product status in the local array immediately\n        const productIndex = this.allProducts.findIndex(p => p.id === productId);\n        if (productIndex !== -1) {\n          this.allProducts[productIndex].status = 'REJECTED';\n          this.applyFilters(); // Re-apply filters to update the displayed list\n        }\n        // Update the selected product status to hide buttons\n        if (this.selectedProduct && this.selectedProduct.id === productId) {\n          this.selectedProduct.status = 'REJECTED';\n        }\n      },\n      error: (error) => {\n        this.loading = false;\n        console.error('Erreur lors du rejet du produit');\n      }\n    });\n  }\n\n  toggleFeatured(productId: string, event: any) {\n    const isFeatured = event.target.checked;\n    this.userService.updateProductStatus(productId, 'APPROVED', isFeatured).subscribe({\n      next: () => {\n        // Update the product featured status in the local array\n        const productIndex = this.allProducts.findIndex(p => p.id === productId);\n        if (productIndex !== -1) {\n          this.allProducts[productIndex].isFeatured = isFeatured;\n        }\n        // Update the selected product status\n        if (this.selectedProduct && this.selectedProduct.id === productId) {\n          this.selectedProduct.isFeatured = isFeatured;\n        }\n      },\n      error: (error) => {\n        console.error('Erreur lors de la mise à jour du statut mis en avant');\n        // Revert checkbox on error\n        event.target.checked = !isFeatured;\n      }\n    });\n  }\n}","<div class=\"flex h-screen bg-gray-100\">\n  <!-- Sidebar -->\n  <div class=\"w-56 bg-orange-500 text-white flex flex-col fixed h-full z-10\">\n    <div class=\"p-5 border-b border-orange-400\">\n      <h2 class=\"text-xl font-bold text-center\">Photol Jay</h2>\n    </div>\n    <nav class=\"flex-1 py-5\">\n      <a routerLink=\"/admin/dashboard\" routerLinkActive=\"bg-orange-600\" class=\"flex items-center px-5 py-3 text-white hover:bg-orange-600 transition-colors\">\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"/>\n        </svg>\n        <span class=\"ml-3\">Tableau de bord</span>\n      </a>\n      <a routerLink=\"/admin/vendeurs\" routerLinkActive=\"bg-orange-600\" class=\"flex items-center px-5 py-3 text-white hover:bg-orange-600 transition-colors\">\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\"/>\n        </svg>\n        <span class=\"ml-3\">Vendeurs</span>\n      </a>\n      <a routerLink=\"/admin/produits\" routerLinkActive=\"bg-orange-600\" class=\"flex items-center px-5 py-3 text-white hover:bg-orange-600 transition-colors\">\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"/>\n        </svg>\n        <span class=\"ml-3\">Produits</span>\n      </a>\n\n      <a routerLink=\"/admin/notifications\" routerLinkActive=\"bg-orange-600\" class=\"flex items-center px-5 py-3 text-white hover:bg-orange-600 transition-colors\">\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\"/>\n        </svg>\n        <span class=\"ml-3\">Notifications</span>\n      </a>\n      <a routerLink=\"/admin/parametres\" routerLinkActive=\"bg-orange-600\" class=\"flex items-center px-5 py-3 text-white hover:bg-orange-600 transition-colors\">\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"/>\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"/>\n        </svg>\n        <span class=\"ml-3\">Paramètres</span>\n      </a>\n    </nav>\n    <div class=\"py-5 border-t border-orange-400\">\n      <button (click)=\"logout()\" class=\"flex items-center px-5 py-3 text-white hover:bg-orange-600 transition-colors w-full text-left\">\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"/>\n        </svg>\n        <span class=\"ml-3\">Déconnexion</span>\n      </button>\n    </div>\n  </div>\n\n  <!-- Main Content -->\n  <div class=\"flex-1 ml-56 flex flex-col\">\n    <!-- Navbar -->\n    <app-admin-navbar></app-admin-navbar>\n\n    <!-- Content -->\n    <div class=\"flex-1 p-8\">\n      <h2 class=\"text-2xl font-bold mb-6\">Liste des produits en attente</h2>\n\n      <!-- Search Bar -->\n      <div class=\"bg-white p-4 rounded-lg shadow-md mb-6\">\n        <div class=\"flex items-center space-x-4\">\n          <div class=\"flex-1\">\n            <input type=\"text\" placeholder=\"Rechercher un produit par nom ou vendeur...\" [(ngModel)]=\"searchQuery\" (input)=\"onSearchInput()\" class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500\">\n          </div>\n          <select [(ngModel)]=\"selectedFilter\" (change)=\"onFilterChange()\" class=\"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500\">\n            <option value=\"all\">Tous les produits</option>\n            <option value=\"PENDING\">En attente</option>\n            <option value=\"APPROVED\">Approuvés</option>\n            <option value=\"REJECTED\">Rejetés</option>\n            <option value=\"VIP\">Produits VIP</option>\n          </select>\n        </div>\n      </div>\n\n      <div class=\"bg-white rounded-lg shadow-md overflow-hidden\">\n        <table class=\"w-full\">\n          <thead class=\"bg-gray-50\">\n            <tr>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Image</th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Nom</th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Prix</th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Vendeur</th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Statut</th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">VIP</th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Détails</th>\n            </tr>\n          </thead>\n          <tbody class=\"bg-white divide-y divide-gray-200\">\n            <tr *ngFor=\"let product of products\">\n              <td class=\"px-6 py-4 whitespace-nowrap\">\n                <img [src]=\"product.mainPhoto\" [alt]=\"product.name\" class=\"w-16 h-16 object-cover rounded\" (error)=\"onImageError($event, product.photos?.[0])\" *ngIf=\"product.mainPhoto && product.mainPhoto !== 'http://localhost:4200/assets/images/no-image.png'\">\n                <div class=\"w-16 h-16 bg-gray-200 flex items-center justify-center text-gray-500 rounded\" *ngIf=\"!product.mainPhoto || product.mainPhoto === 'http://localhost:4200/assets/images/no-image.png'\">\n                  <span class=\"text-xs\">📷</span>\n                </div>\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap\">{{ product.name }}</td>\n              <td class=\"px-6 py-4 whitespace-nowrap\">{{ product.price }} FCFA</td>\n              <td class=\"px-6 py-4 whitespace-nowrap\">{{ product.seller?.firstName }} {{ product.seller?.lastName }}</td>\n              <td class=\"px-6 py-4 whitespace-nowrap\">\n                <div class=\"flex flex-col space-y-1\">\n                  <span [ngClass]=\"{\n                    'bg-yellow-100 text-yellow-800': product.status === 'PENDING',\n                    'bg-green-100 text-green-800': product.status === 'APPROVED',\n                    'bg-red-100 text-red-800': product.status === 'REJECTED'\n                  }\" class=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full\">\n                    {{ product.status === 'PENDING' ? 'En attente' : product.status === 'APPROVED' ? 'Approuvé' : 'Rejeté' }}\n                  </span>\n                </div>\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap\">\n                <div class=\"flex items-center\">\n                  <span *ngIf=\"product.vipStatus === 1\" class=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-yellow-400 to-yellow-600 text-white\">\n                    <span class=\"mr-1\">👑</span>\n                    VIP\n                  </span>\n                  <span *ngIf=\"product.vipStatus !== 1\" class=\"text-gray-400 text-xs\">-</span>\n                </div>\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                <button (click)=\"openProductModal(product)\" class=\"text-blue-600 hover:text-blue-900\">\n                  <svg class=\"w-5 h-5 inline\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"></path>\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"></path>\n                  </svg>\n                </button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n      <!-- Pagination -->\n      <div class=\"flex justify-center mt-6\" *ngIf=\"totalPages > 1\">\n        <button (click)=\"prevPage()\" [disabled]=\"currentPage === 1\" class=\"px-4 py-2 mx-1 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed\">\n          Précédent\n        </button>\n        <span class=\"px-4 py-2 mx-1\">{{ currentPage }} / {{ totalPages }}</span>\n        <button (click)=\"nextPage()\" [disabled]=\"currentPage === totalPages\" class=\"px-4 py-2 mx-1 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed\">\n          Suivant\n        </button>\n      </div>\n    </div>\n  </div>\n  \n  <!-- Product Details Modal -->\n  <div *ngIf=\"showProductModal && selectedProduct\" class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n    <div class=\"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\n      <div class=\"p-6\">\n        <div class=\"flex justify-between items-center mb-6\">\n          <h2 class=\"text-2xl font-bold text-gray-800\">Détails du produit</h2>\n          <button (click)=\"closeProductModal()\" class=\"text-gray-500 hover:text-gray-700 text-2xl\">&times;</button>\n        </div>\n  \n        <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n          <!-- Product Image -->\n          <div class=\"space-y-4\">\n            <div class=\"aspect-w-4 aspect-h-3 bg-gray-100 rounded-lg overflow-hidden\">\n              <img [src]=\"selectedProduct.mainPhoto\" [alt]=\"selectedProduct.name\"\n                   class=\"w-full h-64 object-cover\" (error)=\"onImageError($event, selectedProduct.photos?.[0])\">\n            </div>\n            <!-- Additional Photos -->\n            <div *ngIf=\"selectedProduct.photos && selectedProduct.photos.length > 1\" class=\"grid grid-cols-4 gap-2\">\n              <img *ngFor=\"let photo of selectedProduct.photos.slice(1, 5); let i = index\"\n                   [src]=\"getPhotoUrl(photo.url)\"\n                   [alt]=\"selectedProduct.name + ' - ' + (i + 2)\"\n                   class=\"w-full h-16 object-cover rounded cursor-pointer border-2 hover:border-blue-500\"\n                   (click)=\"openPhotoModal(getPhotoUrl(photo.url), selectedProduct.name + ' - ' + (i + 2))\"\n                   (error)=\"onImageError($event, photo)\">\n            </div>\n            <div *ngIf=\"!selectedProduct.photos || selectedProduct.photos.length <= 1\" class=\"text-center py-4 text-gray-500 bg-gray-50 rounded\">\n              <p>📷 Aucune photo secondaire</p>\n              <p class=\"text-sm\">Ce produit n'a que sa photo principale</p>\n            </div>\n          </div>\n  \n          <!-- Product Information -->\n          <div class=\"space-y-6\">\n            <div>\n              <h3 class=\"text-xl font-semibold text-gray-800 mb-2\">{{ selectedProduct.name }}</h3>\n              <p class=\"text-sm text-blue-600 bg-blue-50 px-3 py-1 rounded-full inline-block\">{{ selectedProduct.category }}</p>\n            </div>\n  \n            <div>\n              <p class=\"text-3xl font-bold text-orange-500 mb-2\">{{ selectedProduct.price | number:'':'fr-FR' }} FCFA</p>\n            </div>\n  \n            <div>\n              <h4 class=\"text-lg font-semibold text-gray-700 mb-2\">Description</h4>\n              <p class=\"text-gray-600 leading-relaxed\">{{ selectedProduct.description }}</p>\n            </div>\n  \n            <div>\n              <h4 class=\"text-lg font-semibold text-gray-700 mb-2\">Statut</h4>\n              <span [ngClass]=\"{\n                'bg-yellow-100 text-yellow-800': selectedProduct.status === 'PENDING',\n                'bg-green-100 text-green-800': selectedProduct.status === 'APPROVED',\n                'bg-red-100 text-red-800': selectedProduct.status === 'REJECTED'\n              }\" class=\"px-3 py-1 text-sm font-semibold rounded-full\">\n                {{ selectedProduct.status === 'PENDING' ? 'En attente' : selectedProduct.status === 'APPROVED' ? 'Approuvé' : 'Rejeté' }}\n              </span>\n            </div>\n  \n            <!-- Seller Information -->\n            <div class=\"bg-gray-50 p-4 rounded-lg\">\n              <h4 class=\"text-lg font-semibold text-gray-700 mb-4\">Informations du vendeur</h4>\n              <div class=\"space-y-3\">\n                <div class=\"flex items-center space-x-3\">\n                  <span class=\"text-gray-500\">👤</span>\n                  <span class=\"font-medium\">{{ selectedProduct.seller.firstName }} {{ selectedProduct.seller.lastName }}</span>\n                </div>\n                <div class=\"flex items-center space-x-3\">\n                  <span class=\"text-gray-500\">📧</span>\n                  <span>{{ selectedProduct.seller.email }}</span>\n                </div>\n                <div class=\"flex items-center space-x-3\" *ngIf=\"selectedProduct.seller.phone\">\n                  <span class=\"text-gray-500\">📞</span>\n                  <span>{{ selectedProduct.seller.phone }}</span>\n                </div>\n                <div class=\"flex items-center space-x-3\" *ngIf=\"selectedProduct.seller.city\">\n                  <span class=\"text-gray-500\">📍</span>\n                  <span>{{ selectedProduct.seller.city }}</span>\n                </div>\n              </div>\n            </div>\n  \n            <!-- Action Buttons -->\n            <div class=\"flex space-x-3\">\n              <button *ngIf=\"selectedProduct.status === 'PENDING'\"\n                      (click)=\"approveProduct(selectedProduct.id); closeProductModal()\"\n                      class=\"flex-1 bg-green-500 text-white px-4 py-3 rounded-lg hover:bg-green-600 transition-colors font-medium\">\n                ✓ Approuver\n              </button>\n              <button *ngIf=\"selectedProduct.status === 'PENDING'\"\n                      (click)=\"rejectProduct(selectedProduct.id); closeProductModal()\"\n                      class=\"flex-1 bg-red-500 text-white px-4 py-3 rounded-lg hover:bg-red-600 transition-colors font-medium\">\n                ✗ Rejeter\n              </button>\n            </div>\n          </div>\n        </div>\n  \n      </div>\n    </div>\n  </div>\n     <!-- Photo Modal -->\n     <div *ngIf=\"showPhotoModal && selectedPhotoUrl\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4\" style=\"z-index: 9999;\">\n       <div class=\"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden\">\n         <div class=\"p-4\">\n           <div class=\"flex justify-between items-center mb-4\">\n             <h3 class=\"text-lg font-semibold text-gray-800\">{{ selectedPhotoAlt }}</h3>\n             <button (click)=\"closePhotoModal()\" class=\"text-gray-500 hover:text-gray-700 text-2xl\">&times;</button>\n           </div>\n           <div class=\"flex justify-center\">\n             <img [src]=\"selectedPhotoUrl\" [alt]=\"selectedPhotoAlt\" class=\"max-w-full max-h-[70vh] object-contain rounded\">\n           </div>\n         </div>\n       </div>\n     </div>\n   </div>","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { UserService } from '../../services/user.service';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-admin-vendeurs',\n  templateUrl: './admin-vendeurs.component.html',\n  styleUrls: []\n})\nexport class AdminVendeursComponent implements OnInit, OnDestroy {\n  currentUser: any = null;\n  sellers: any[] = [];\n  allSellers: any[] = []; // Store all sellers for filtering\n  loadingSellers = false;\n  private routerSubscription: Subscription = new Subscription();\n\n  // Pagination properties\n  currentPage = 1;\n  itemsPerPage = 8;\n  totalPages = 1;\n  totalSellers = 0;\n\n  // Search properties\n  searchQuery = '';\n  selectedFilter = 'all'; // 'all', 'vip', 'simple'\n\n  constructor(private userService: UserService, private router: Router) {}\n\n  ngOnInit() {\n    this.loadCurrentUser();\n    this.loadSellers();\n\n    // Listen to route changes to reload sellers when navigating to this page\n    this.routerSubscription = this.router.events\n      .pipe(filter((event): event is NavigationEnd => event instanceof NavigationEnd))\n      .subscribe((event) => {\n        if (event.url === '/admin/vendeurs') {\n          this.loadSellers();\n        }\n      });\n  }\n\n  ngOnDestroy() {\n    this.routerSubscription.unsubscribe();\n  }\n\n  loadCurrentUser() {\n    this.userService.getCurrentUser().subscribe({\n      next: (response) => {\n        this.currentUser = response.user;\n      },\n      error: () => {\n        this.router.navigate(['/login']);\n      }\n    });\n  }\n\n  loadSellers(page = 1) {\n    console.log('🔄 Début du chargement des vendeurs - Page:', page, 'Limit:', this.itemsPerPage);\n    this.loadingSellers = true;\n    this.userService.getAllSellers(page, this.itemsPerPage).subscribe({\n      next: (response) => {\n        this.loadingSellers = false;\n        this.sellers = response.sellers || [];\n        this.allSellers = response.sellers || []; // For frontend filtering\n\n        // Update pagination info from backend\n        this.currentPage = response.pagination?.page || 1;\n        this.totalSellers = response.pagination?.total || 0;\n        this.totalPages = response.pagination?.totalPages || 1;\n\n        console.log('✅ Vendeurs chargés avec succès:', this.sellers.length, 'vendeurs affichés sur', this.totalSellers, 'total');\n        console.log('📄 Pagination - Page:', this.currentPage, 'Total pages:', this.totalPages, 'Total vendeurs:', this.totalSellers);\n        console.log('� Détails des vendeurs:', this.sellers);\n      },\n      error: (error) => {\n        this.loadingSellers = false;\n        console.error('❌ Erreur lors du chargement des vendeurs:', error);\n        console.error('🔍 Détails de l\\'erreur:', error.error || error.message);\n        this.sellers = [];\n        this.allSellers = [];\n      }\n    });\n  }\n\n  applyFilters() {\n    let filteredSellers = [...this.allSellers];\n\n    // Apply type filter\n    if (this.selectedFilter === 'vip') {\n      filteredSellers = filteredSellers.filter(seller => seller.credits > 0);\n    } else if (this.selectedFilter === 'simple') {\n      filteredSellers = filteredSellers.filter(seller => seller.credits === 0);\n    }\n    // 'all' shows all sellers\n\n    // Apply search filter\n    if (this.searchQuery && this.searchQuery.length >= 2) {\n      filteredSellers = filteredSellers.filter(seller =>\n        seller.name.toLowerCase().includes(this.searchQuery.toLowerCase())\n      );\n    }\n\n    // Calculate pagination\n    this.totalSellers = filteredSellers.length;\n    this.totalPages = Math.ceil(this.totalSellers / this.itemsPerPage);\n\n    // Reset to first page if current page is out of bounds\n    if (this.currentPage > this.totalPages) {\n      this.currentPage = 1;\n    }\n\n    // Get sellers for current page\n    const startIndex = (this.currentPage - 1) * this.itemsPerPage;\n    const endIndex = startIndex + this.itemsPerPage;\n    this.sellers = filteredSellers.slice(startIndex, endIndex);\n  }\n\n  logout() {\n    this.userService.logout().subscribe({\n      next: () => {\n        this.router.navigate(['/login']);\n      },\n      error: (error) => {\n        console.error('Logout error:', error);\n        this.router.navigate(['/login']);\n      }\n    });\n  }\n\n  // Search method\n  onSearchInput() {\n    this.currentPage = 1; // Reset to first page when searching\n    this.applyFilters();\n  }\n\n  // Filter method\n  onFilterChange() {\n    this.currentPage = 1; // Reset to first page when filtering\n    this.applyFilters();\n  }\n\n  // Pagination methods\n  nextPage() {\n    if (this.currentPage < this.totalPages) {\n      this.currentPage++;\n      this.loadSellers(this.currentPage);\n    }\n  }\n\n  prevPage() {\n    if (this.currentPage > 1) {\n      this.currentPage--;\n      this.loadSellers(this.currentPage);\n    }\n  }\n\n  goToPage(page: number) {\n    if (page >= 1 && page <= this.totalPages) {\n      this.currentPage = page;\n      this.loadSellers(this.currentPage);\n    }\n  }\n}","<div class=\"flex h-screen bg-gray-100\">\n  <!-- Sidebar -->\n  <div class=\"w-56 bg-orange-500 text-white flex flex-col fixed h-full z-10\">\n    <div class=\"p-5 border-b border-orange-400\">\n      <h2 class=\"text-xl font-bold text-center\">Photol Jay</h2>\n    </div>\n    <nav class=\"flex-1 py-5\">\n      <a routerLink=\"/admin/dashboard\" routerLinkActive=\"bg-orange-600\" class=\"flex items-center px-5 py-3 text-white hover:bg-orange-600 transition-colors\">\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"/>\n        </svg>\n        <span class=\"ml-3\">Tableau de bord</span>\n      </a>\n      <a routerLink=\"/admin/vendeurs\" routerLinkActive=\"bg-orange-600\" class=\"flex items-center px-5 py-3 text-white hover:bg-orange-600 transition-colors\">\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\"/>\n        </svg>\n        <span class=\"ml-3\">Vendeurs</span>\n      </a>\n      <a routerLink=\"/admin/produits\" routerLinkActive=\"bg-orange-600\" class=\"flex items-center px-5 py-3 text-white hover:bg-orange-600 transition-colors\">\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"/>\n        </svg>\n        <span class=\"ml-3\">Produits</span>\n      </a>\n\n      <a routerLink=\"/admin/notifications\" routerLinkActive=\"bg-orange-600\" class=\"flex items-center px-5 py-3 text-white hover:bg-orange-600 transition-colors\">\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\"/>\n        </svg>\n        <span class=\"ml-3\">Notifications</span>\n      </a>\n      <a routerLink=\"/admin/parametres\" routerLinkActive=\"bg-orange-600\" class=\"flex items-center px-5 py-3 text-white hover:bg-orange-600 transition-colors\">\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"/>\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"/>\n        </svg>\n        <span class=\"ml-3\">Paramètres</span>\n      </a>\n    </nav>\n    <div class=\"py-5 border-t border-orange-400\">\n      <button (click)=\"logout()\" class=\"flex items-center px-5 py-3 text-white hover:bg-orange-600 transition-colors w-full text-left\">\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"/>\n        </svg>\n        <span class=\"ml-3\">Déconnexion</span>\n      </button>\n    </div>\n  </div>\n\n  <!-- Main Content -->\n  <div class=\"flex-1 ml-56 flex flex-col\">\n    <!-- Navbar -->\n    <app-admin-navbar></app-admin-navbar>\n\n    <!-- Content -->\n    <div class=\"flex-1 p-8\">\n      <h2 class=\"text-2xl font-bold mb-6\">Liste des vendeurs</h2>\n\n      <!-- Search Bar -->\n      <div class=\"bg-white p-4 rounded-lg shadow-md mb-6\">\n        <div class=\"flex items-center space-x-4\">\n          <div class=\"flex-1\">\n            <input type=\"text\" placeholder=\"Rechercher un vendeur par nom...\" [(ngModel)]=\"searchQuery\" (input)=\"onSearchInput()\" class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500\">\n          </div>\n          <select [(ngModel)]=\"selectedFilter\" (change)=\"onFilterChange()\" class=\"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500\">\n            <option value=\"all\">Tous les vendeurs</option>\n            <option value=\"vip\">Vendeurs VIP</option>\n            <option value=\"simple\">Vendeurs simples</option>\n          </select>\n        </div>\n      </div>\n\n      <div class=\"bg-white rounded-lg shadow-md overflow-hidden\">\n        <table class=\"w-full\">\n          <thead class=\"bg-gray-50\">\n            <tr>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Nom</th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Email</th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Téléphone</th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Ville</th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Crédits VIP</th>\n            </tr>\n          </thead>\n          <tbody class=\"bg-white divide-y divide-gray-200\">\n            <tr *ngFor=\"let seller of sellers\">\n              <td class=\"px-6 py-4 whitespace-nowrap\">{{ seller.name }}</td>\n              <td class=\"px-6 py-4 whitespace-nowrap\">{{ seller.email }}</td>\n              <td class=\"px-6 py-4 whitespace-nowrap\">{{ seller.phone || '-' }}</td>\n              <td class=\"px-6 py-4 whitespace-nowrap\">{{ seller.city || '-' }}</td>\n              <td class=\"px-6 py-4 whitespace-nowrap text-center\">{{ seller.credits }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n      <!-- Pagination -->\n      <div class=\"flex justify-center mt-6\" *ngIf=\"totalPages > 1\">\n        <button (click)=\"prevPage()\" [disabled]=\"currentPage === 1\" class=\"px-4 py-2 mx-1 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed\">\n          Précédent\n        </button>\n        <span class=\"px-4 py-2 mx-1\">{{ currentPage }} / {{ totalPages }}</span>\n        <button (click)=\"nextPage()\" [disabled]=\"currentPage === totalPages\" class=\"px-4 py-2 mx-1 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed\">\n          Suivant\n        </button>\n      </div>\n\n    </div>\n  </div>\n</div>","<div class=\"container mx-auto px-4 py-8\">\n  <h1 class=\"text-3xl font-bold text-center mb-8\">Acheter des Crédits VIP</h1>\n\n  <!-- Current Credits Display -->\n  <div class=\"bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg p-6 mb-8 text-center\">\n    <h2 class=\"text-2xl font-bold mb-2\">Vos Crédits Actuels</h2>\n    <div class=\"text-4xl font-bold\">{{ currentUserCredits }}</div>\n    <p class=\"text-purple-100\">Crédits disponibles</p>\n  </div>\n\n  <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n    <!-- Carte 5 crédits - 1 semaine -->\n    <div class=\"bg-white rounded-lg shadow-md p-6 border border-gray-200 hover:shadow-lg transition-shadow\">\n      <div class=\"text-center\">\n        <div class=\"text-4xl font-bold text-blue-600 mb-2\">5</div>\n        <div class=\"text-lg font-semibold mb-2\">Crédits</div>\n        <div class=\"text-gray-600 mb-4\">1 semaine</div>\n        <button\n          class=\"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors\"\n          (click)=\"selectPlan(5, 1)\">\n          Souscrire\n        </button>\n      </div>\n    </div>\n\n    <!-- Carte 10 crédits - 1 mois -->\n    <div class=\"bg-white rounded-lg shadow-md p-6 border border-gray-200 hover:shadow-lg transition-shadow\">\n      <div class=\"text-center\">\n        <div class=\"text-4xl font-bold text-green-600 mb-2\">10</div>\n        <div class=\"text-lg font-semibold mb-2\">Crédits</div>\n        <div class=\"text-gray-600 mb-4\">1 mois</div>\n        <button\n          class=\"w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition-colors\"\n          (click)=\"selectPlan(10, 1)\">\n          Souscrire\n        </button>\n      </div>\n    </div>\n\n    <!-- Carte 20 crédits - 1 mois 15 jours -->\n    <div class=\"bg-white rounded-lg shadow-md p-6 border border-gray-200 hover:shadow-lg transition-shadow\">\n      <div class=\"text-center\">\n        <div class=\"text-4xl font-bold text-purple-600 mb-2\">20</div>\n        <div class=\"text-lg font-semibold mb-2\">Crédits</div>\n        <div class=\"text-gray-600 mb-4\">1 mois 15 jours</div>\n        <button\n          class=\"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 transition-colors\"\n          (click)=\"selectPlan(20, 1.5)\">\n          Souscrire\n        </button>\n      </div>\n    </div>\n\n    <!-- Carte 40 crédits - 2 mois -->\n    <div class=\"bg-white rounded-lg shadow-md p-6 border border-gray-200 hover:shadow-lg transition-shadow\">\n      <div class=\"text-center\">\n        <div class=\"text-4xl font-bold text-red-600 mb-2\">40</div>\n        <div class=\"text-lg font-semibold mb-2\">Crédits</div>\n        <div class=\"text-gray-600 mb-4\">2 mois</div>\n        <button\n          class=\"w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition-colors\"\n          (click)=\"selectPlan(40, 2)\">\n          Souscrire\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <!-- Section sélection produit -->\n  <div class=\"bg-white rounded-lg shadow-md p-6\" *ngIf=\"selectedPlan\">\n    <h2 class=\"text-2xl font-bold mb-4\">Sélectionner un Produit</h2>\n    <p class=\"text-gray-600 mb-6\">\n      Vous avez sélectionné {{ selectedPlan.credits }} crédits pour {{ selectedPlan.duration }} mois.\n      Choisissez le produit que vous souhaitez mettre en avant.\n    </p>\n\n    <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n      <div\n        class=\"border rounded-lg p-4 cursor-pointer hover:bg-gray-50 transition-colors\"\n        *ngFor=\"let product of userProducts\"\n        [class.opacity-50]=\"product.status !== 'APPROVED'\"\n        [class.cursor-not-allowed]=\"product.status !== 'APPROVED'\"\n        (click)=\"product.status === 'APPROVED' ? selectProduct(product) : null\">\n        <div class=\"flex items-center space-x-4\">\n          <img\n            [src]=\"product.photos[0]?.url || '/assets/images/no-image.png'\"\n            [alt]=\"product.name\"\n            class=\"w-16 h-16 object-cover rounded-md\">\n          <div class=\"flex-1\">\n            <h3 class=\"font-semibold\">{{ product.name }}</h3>\n            <p class=\"text-sm text-gray-600\">{{ product.description | slice:0:50 }}...</p>\n            <p class=\"text-sm font-medium text-green-600\">{{ product.price | currency:'XOF':'symbol':'1.0-0' }}</p>\n            <div *ngIf=\"product.status !== 'APPROVED'\" class=\"text-xs text-red-600 mt-1\">\n              Statut: {{ product.status === 'PENDING' ? 'En attente' : 'Refusé' }}\n            </div>\n          </div>\n          <input\n            type=\"radio\"\n            [checked]=\"selectedProduct?.id === product.id\"\n            [disabled]=\"product.status !== 'APPROVED'\"\n            class=\"w-4 h-4 text-blue-600\">\n        </div>\n      </div>\n    </div>\n\n    <div class=\"mt-6 flex justify-end space-x-4\" *ngIf=\"selectedProduct\">\n      <button\n        class=\"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors\"\n        (click)=\"cancelSelection()\">\n        Annuler\n      </button>\n      <button\n        class=\"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\"\n        (click)=\"purchaseCredits()\">\n        Acheter les Crédits\n      </button>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Product } from '../../models/product.model';\nimport { UserService } from '../../services/user.service';\nimport { Router } from '@angular/router';\n\ninterface CreditPlan {\n  credits: number;\n  duration: number; // in months\n}\n\n@Component({\n  selector: 'app-buy-credits',\n  templateUrl: './buy-credits.component.html',\n  styleUrls: ['./buy-credits.component.scss']\n})\nexport class BuyCreditsComponent implements OnInit {\n  userProducts: Product[] = [];\n  selectedPlan: CreditPlan | null = null;\n  selectedProduct: Product | null = null;\n  currentUserCredits: number = 0;\n\n  constructor(\n    private userService: UserService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    this.loadUserProducts();\n    this.loadCurrentUserCredits();\n  }\n\n  loadUserProducts(): void {\n    this.userService.getSellerProducts().subscribe({\n      next: (response: any) => {\n        this.userProducts = response.products || [];\n      },\n      error: (error) => {\n        console.error('Error loading user products:', error);\n        this.userProducts = [];\n      }\n    });\n  }\n\n  loadCurrentUserCredits(): void {\n    this.userService.getCurrentUser().subscribe({\n      next: (response: any) => {\n        this.currentUserCredits = response.user?.credits || 0;\n      },\n      error: (error) => {\n        console.error('Error loading user credits:', error);\n        this.currentUserCredits = 0;\n      }\n    });\n  }\n\n  selectPlan(credits: number, duration: number): void {\n    this.selectedPlan = { credits, duration };\n    this.selectedProduct = null; // Reset product selection\n  }\n\n  selectProduct(product: Product): void {\n    this.selectedProduct = product;\n  }\n\n  cancelSelection(): void {\n    this.selectedPlan = null;\n    this.selectedProduct = null;\n  }\n\n  purchaseCredits(): void {\n    if (!this.selectedPlan || !this.selectedProduct) {\n      return;\n    }\n\n    // Call the buy credits API with product selection\n    this.userService.buyCredits(this.selectedPlan.credits, this.selectedProduct!.id).subscribe({\n      next: (response: any) => {\n        alert(`Crédits achetés avec succès! ${this.selectedPlan!.credits} crédits pour le produit \"${this.selectedProduct!.name}\"`);\n        // Update current credits\n        this.currentUserCredits = response.user.credits;\n        // Reset selections\n        this.selectedPlan = null;\n        this.selectedProduct = null;\n        // Reload products to reflect changes\n        this.loadUserProducts();\n      },\n      error: (error) => {\n        console.error('Error purchasing credits:', error);\n        alert(`Erreur: ${error.error?.error || 'Erreur lors de l\\'achat des crédits'}`);\n      }\n    });\n  }\n}\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { UserService } from '../../services/user.service';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { Product } from '../../models/product.model';\nimport { Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { ChartData, ChartOptions } from 'chart.js';\n\ninterface User {\n  id: string;\n  email: string;\n  firstName: string;\n  lastName: string;\n  role: string;\n}\n\ninterface Stats {\n   totalProducts: number;\n   pendingProducts: number;\n   approvedProducts: number;\n   rejectedProducts: number;\n   totalSellers: number;\n   vipProducts: number;\n }\n\n@Component({\n  selector: 'app-dashboard-admin',\n  templateUrl: './dashboard-admin.component.html',\n  styleUrls: []\n})\nexport class DashboardAdminComponent implements OnInit, OnDestroy {\n  currentUser: User | null = null;\n  stats: Stats = {\n    totalProducts: 0,\n    pendingProducts: 0,\n    approvedProducts: 0,\n    rejectedProducts: 0,\n    totalSellers: 0,\n    vipProducts: 0\n  };\n  pendingProducts: Product[] = [];\n  showPendingProducts = false;\n  loading = false;\n  sellers: any[] = [];\n  loadingSellers = false;\n  private routerSubscription: Subscription = new Subscription();\n\n  // Chart data\n  barChartData: ChartData<'bar'> = {\n    labels: ['En attente', 'Validées', 'Refusées'],\n    datasets: [{\n      data: [0, 0, 0],\n      backgroundColor: ['#fbbf24', '#10b981', '#ef4444'],\n      borderColor: ['#f59e0b', '#059669', '#dc2626'],\n      borderWidth: 1\n    }]\n  };\n\n  barChartOptions: ChartOptions<'bar'> = {\n    responsive: true,\n    plugins: {\n      legend: {\n        display: false\n      },\n      title: {\n        display: true,\n        text: 'Statut des Produits'\n      }\n    },\n    scales: {\n      y: {\n        beginAtZero: true\n      }\n    }\n  };\n\n  pieChartData: ChartData<'pie'> = {\n    labels: ['Produits Ajoutés', 'Produits VIP'],\n    datasets: [{\n      data: [0, 0],\n      backgroundColor: ['#3b82f6', '#eab308'],\n      borderColor: ['#2563eb', '#ca8a04'],\n      borderWidth: 1\n    }]\n  };\n\n  pieChartOptions: ChartOptions<'pie'> = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: 'bottom'\n      },\n      title: {\n        display: true,\n        text: 'Répartition des Produits'\n      }\n    }\n  };\n\n\n  constructor(private userService: UserService, private router: Router) {}\n\n  ngOnInit() {\n    this.loadCurrentUser();\n    this.loadStats();\n    this.loadPendingProducts();\n    this.loadSellers();\n\n    // Listen to route changes to reload sellers when navigating to /admin/vendeurs\n    this.routerSubscription = this.router.events\n      .pipe(filter((event): event is NavigationEnd => event instanceof NavigationEnd))\n      .subscribe((event) => {\n        if (event.url === '/admin/vendeurs') {\n          this.loadSellers();\n        }\n      });\n  }\n\n  ngOnDestroy() {\n    this.routerSubscription.unsubscribe();\n  }\n\n  loadCurrentUser() {\n    this.userService.getCurrentUser().subscribe({\n      next: (response) => {\n        this.currentUser = response.user;\n      },\n      error: () => {\n        this.router.navigate(['/login']);\n      }\n    });\n  }\n\n  loadStats() {\n    // Calculate stats from all products in the database\n    this.userService.getPendingProducts().subscribe({\n      next: (response) => {\n        const allProducts = response.products;\n        this.stats.totalProducts = allProducts.length;\n        this.stats.pendingProducts = allProducts.filter((p: any) => p.status === 'PENDING').length;\n        this.stats.approvedProducts = allProducts.filter((p: any) => p.status === 'APPROVED').length;\n        this.stats.rejectedProducts = allProducts.filter((p: any) => p.status === 'REJECTED').length;\n        this.stats.vipProducts = allProducts.filter((p: any) => p.vipStatus === 1).length;\n        this.stats.totalSellers = this.sellers.length;\n\n        // Update charts with new data\n        this.updateCharts();\n      },\n      error: (error) => {\n        console.error('Error loading stats:', error);\n        // Fallback values\n        this.stats.pendingProducts = this.pendingProducts.length;\n        this.stats.totalProducts = this.pendingProducts.length;\n        this.stats.approvedProducts = 0;\n        this.stats.rejectedProducts = 0;\n        this.stats.vipProducts = 0;\n        this.stats.totalSellers = this.sellers.length;\n        this.updateCharts();\n      }\n    });\n  }\n\n  updateCharts() {\n    // Update bar chart data\n    this.barChartData = {\n      ...this.barChartData,\n      datasets: [{\n        ...this.barChartData.datasets[0],\n        data: [this.stats.pendingProducts, this.stats.approvedProducts, this.stats.rejectedProducts]\n      }]\n    };\n\n    // Update pie chart data\n    this.pieChartData = {\n      ...this.pieChartData,\n      datasets: [{\n        ...this.pieChartData.datasets[0],\n        data: [this.stats.totalProducts - this.stats.vipProducts, this.stats.vipProducts]\n      }]\n    };\n  }\n\n  loadPendingProducts() {\n    this.userService.getPendingProducts().subscribe({\n      next: (response) => {\n        this.pendingProducts = response.products;\n        this.loadStats();\n      },\n      error: (error) => {\n        console.error('Error loading pending products:', error);\n      }\n    });\n  }\n\n  loadSellers() {\n    console.log('🔄 Début du chargement des vendeurs...');\n    this.loadingSellers = true;\n    this.userService.getAllSellers().subscribe({\n      next: (response) => {\n        this.loadingSellers = false;\n        this.sellers = response.sellers || [];\n        console.log('✅ Vendeurs chargés avec succès:', this.sellers.length, 'vendeurs trouvés');\n        console.log('📋 Détails des vendeurs:', this.sellers);\n      },\n      error: (error) => {\n        this.loadingSellers = false;\n        console.error('❌ Erreur lors du chargement des vendeurs:', error);\n        console.error('🔍 Détails de l\\'erreur:', error.error || error.message);\n        this.sellers = [];\n      }\n    });\n  }\n\n  approveProduct(productId: string) {\n    this.loading = true;\n    this.userService.updateProductStatus(productId, 'APPROVED').subscribe({\n      next: () => {\n        this.loading = false;\n        this.loadPendingProducts(); // Refresh the list\n        alert('Produit approuvé avec succès!');\n      },\n      error: (error) => {\n        this.loading = false;\n        alert('Erreur lors de l\\'approbation du produit');\n      }\n    });\n  }\n\n  rejectProduct(productId: string) {\n    this.loading = true;\n    this.userService.updateProductStatus(productId, 'REJECTED').subscribe({\n      next: () => {\n        this.loading = false;\n        this.loadPendingProducts(); // Refresh the list\n        alert('Produit rejeté!');\n      },\n      error: (error) => {\n        this.loading = false;\n        alert('Erreur lors du rejet du produit');\n      }\n    });\n  }\n\n  getPhotoUrl(url: string): string {\n    return `http://localhost:3000${url}`;\n  }\n\n  onImageError(event: any, photo: any) {\n    console.log('Image failed to load:', photo.url);\n    // Prevent infinite loop by checking if we're already trying to load the fallback\n    if (!event.target.src.includes('no-image.png')) {\n      event.target.src = 'assets/images/no-image.png'; // Fallback image\n    }\n  }\n\n  showAllPhotos(product: any) {\n    // For now, just show an alert. In a real app, you'd open a modal\n    alert(`Produit \"${product.name}\" a ${product.photos.length} photos`);\n  }\n\n  isActiveRoute(route: string): boolean {\n    return this.router.url === route;\n  }\n\n  logout() {\n    this.userService.logout().subscribe({\n      next: () => {\n        this.router.navigate(['/login']);\n      },\n      error: (error) => {\n        console.error('Logout error:', error);\n        // Even if logout fails, navigate to login\n        this.router.navigate(['/login']);\n      }\n    });\n  }\n\n}","<div class=\"flex h-screen bg-gray-100\">\n  <!-- Sidebar -->\n  <div class=\"w-56 bg-orange-500 text-white flex flex-col fixed h-full z-10\">\n    <div class=\"p-5 border-b border-orange-400\">\n      <h2 class=\"text-xl font-bold text-center\">Photol Jay</h2>\n    </div>\n    <nav class=\"flex-1 py-5\">\n      <a routerLink=\"/admin/dashboard\" routerLinkActive=\"bg-orange-600\" class=\"flex items-center px-5 py-3 text-white hover:bg-orange-600 transition-colors\">\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"/>\n        </svg>\n        <span class=\"ml-3\">Tableau de bord</span>\n      </a>\n      <a routerLink=\"/admin/vendeurs\" routerLinkActive=\"bg-orange-600\" class=\"flex items-center px-5 py-3 text-white hover:bg-orange-600 transition-colors\">\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\"/>\n        </svg>\n        <span class=\"ml-3\">Vendeurs</span>\n      </a>\n      <a routerLink=\"/admin/produits\" routerLinkActive=\"bg-orange-600\" class=\"flex items-center px-5 py-3 text-white hover:bg-orange-600 transition-colors\">\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"/>\n        </svg>\n        <span class=\"ml-3\">Produits</span>\n      </a>\n\n      <a routerLink=\"/admin/notifications\" routerLinkActive=\"bg-orange-600\" class=\"flex items-center px-5 py-3 text-white hover:bg-orange-600 transition-colors\">\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\"/>\n        </svg>\n        <span class=\"ml-3\">Notifications</span>\n      </a>\n      <a routerLink=\"/admin/parametres\" routerLinkActive=\"bg-orange-600\" class=\"flex items-center px-5 py-3 text-white hover:bg-orange-600 transition-colors\">\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"/>\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"/>\n        </svg>\n        <span class=\"ml-3\">Paramètres</span>\n      </a>\n    </nav>\n    <div class=\"py-5 border-t border-orange-400\">\n      <button (click)=\"logout()\" class=\"flex items-center px-5 py-3 text-white hover:bg-orange-600 transition-colors w-full text-left\">\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"/>\n        </svg>\n        <span class=\"ml-3\">Déconnexion</span>\n      </button>\n    </div>\n  </div>\n\n  <!-- Main Content -->\n  <div class=\"flex-1 ml-56 flex flex-col\">\n    <!-- Navbar -->\n    <app-admin-navbar></app-admin-navbar>\n\n    <!-- Content -->\n    <div class=\"flex-1 p-8 mt-16 overflow-y-auto\">\n      <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6 mb-8\" *ngIf=\"isActiveRoute('/admin/dashboard')\">\n        <div class=\"bg-white p-6 rounded-lg shadow-md text-center hover:shadow-lg transition-shadow\">\n          <h3 class=\"text-lg font-semibold text-gray-700 mb-2\">Total Annonces</h3>\n          <p class=\"text-3xl font-bold text-orange-500\">{{ stats.totalProducts }}</p>\n        </div>\n        <div class=\"bg-white p-6 rounded-lg shadow-md text-center hover:shadow-lg transition-shadow\">\n          <h3 class=\"text-lg font-semibold text-gray-700 mb-2\">En attente</h3>\n          <p class=\"text-3xl font-bold text-yellow-500\">{{ stats.pendingProducts }}</p>\n        </div>\n        <div class=\"bg-white p-6 rounded-lg shadow-md text-center hover:shadow-lg transition-shadow\">\n          <h3 class=\"text-lg font-semibold text-gray-700 mb-2\">Validées</h3>\n          <p class=\"text-3xl font-bold text-green-500\">{{ stats.approvedProducts }}</p>\n        </div>\n        <div class=\"bg-white p-6 rounded-lg shadow-md text-center hover:shadow-lg transition-shadow\">\n          <h3 class=\"text-lg font-semibold text-gray-700 mb-2\">Refusées</h3>\n          <p class=\"text-3xl font-bold text-red-500\">{{ stats.rejectedProducts }}</p>\n        </div>\n        <div class=\"bg-white p-6 rounded-lg shadow-md text-center hover:shadow-lg transition-shadow\">\n          <h3 class=\"text-lg font-semibold text-gray-700 mb-2\">Vendeurs</h3>\n          <p class=\"text-3xl font-bold text-blue-500\">{{ stats.totalSellers }}</p>\n        </div>\n      </div>\n\n      <!-- Charts Section -->\n      <div *ngIf=\"isActiveRoute('/admin/dashboard')\" class=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\">\n        <!-- Bar Chart -->\n        <div class=\"bg-white rounded-lg shadow-md p-6\">\n          <canvas baseChart\n                  [data]=\"barChartData\"\n                  [options]=\"barChartOptions\"\n                  [type]=\"'bar'\">\n          </canvas>\n        </div>\n\n        <!-- Pie Chart -->\n        <div class=\"bg-white rounded-lg shadow-md p-6\">\n          <canvas baseChart\n                  [data]=\"pieChartData\"\n                  [options]=\"pieChartOptions\"\n                  [type]=\"'pie'\">\n          </canvas>\n        </div>\n      </div>\n\n      <div *ngIf=\"isActiveRoute('/admin/vendeurs')\" class=\"bg-white rounded-lg shadow-md p-6 mb-8\">\n        <h2 class=\"text-xl font-bold mb-6\">Liste des vendeurs</h2>\n\n        \n        <div *ngIf=\"!loadingSellers && sellers.length === 0\" class=\"text-center py-8 text-gray-500\">\n          Aucun vendeur trouvé\n        </div>\n      </div>\n      <div *ngIf=\"showPendingProducts\" class=\"bg-white rounded-lg shadow-md p-6 mb-8\">\n        <h2 class=\"text-xl font-bold mb-6\">Produits en attente de validation</h2>\n\n        <div *ngIf=\"pendingProducts.length === 0\" class=\"text-center py-8 text-gray-500\">\n          Aucun produit en attente de validation\n        </div>\n\n        <div *ngIf=\"pendingProducts.length > 0\" class=\"space-y-6\">\n          <div *ngFor=\"let product of pendingProducts\" class=\"border border-gray-200 rounded-lg p-6\">\n            <div class=\"flex flex-col lg:flex-row gap-6\">\n              <!-- Product Images -->\n              <div class=\"flex-shrink-0\">\n                <div class=\"grid grid-cols-2 gap-2\">\n                  <img\n                    *ngFor=\"let photo of product.photos.slice(0, 4); let i = index\"\n                    [src]=\"getPhotoUrl(photo.url)\"\n                    [alt]=\"product.name + ' - ' + (i + 1)\"\n                    class=\"w-20 h-20 object-cover rounded border\"\n                    (error)=\"onImageError($event, photo)\"\n                  >\n                  <div\n                    *ngIf=\"product.photos.length === 0\"\n                    class=\"w-20 h-20 bg-gray-200 flex items-center justify-center text-gray-500 rounded border\"\n                  >\n                    <span class=\"text-xs\">📷</span>\n                  </div>\n                </div>\n                <button\n                  *ngIf=\"product.photos.length > 4\"\n                  (click)=\"showAllPhotos(product)\"\n                  class=\"mt-2 text-sm text-blue-600 hover:text-blue-800 underline\"\n                >\n                  Voir toutes les photos ({{ product.photos.length }})\n                </button>\n              </div>\n\n              <!-- Product Details -->\n              <div class=\"flex-grow\">\n                <h3 class=\"text-xl font-semibold mb-2\">{{ product.name }}</h3>\n                <p class=\"text-gray-600 mb-2\">{{ product.description }}</p>\n                <p class=\"text-sm text-blue-600 mb-2\">Catégorie: {{ product.category }}</p>\n                <p class=\"text-lg font-bold text-orange-500 mb-2\">{{ product.price | number:'':'fr-FR' }} FCFA</p>\n\n                <div class=\"bg-gray-50 p-3 rounded mb-4\">\n                  <h4 class=\"font-medium mb-1\">Vendeur:</h4>\n                  <p class=\"text-sm\">{{ product.seller.firstName }} {{ product.seller.lastName }}</p>\n                  <p class=\"text-sm text-gray-600\">{{ product.seller.email }}</p>\n                  <p class=\"text-sm text-gray-600\" *ngIf=\"product.seller.phone\">{{ product.seller.phone }}</p>\n                </div>\n\n                <div class=\"flex space-x-3\">\n                  <button\n                    (click)=\"approveProduct(product.id)\"\n                    class=\"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition-colors\"\n                    [disabled]=\"loading\"\n                  >\n                    ✓ Approuver\n                  </button>\n                  <button\n                    (click)=\"rejectProduct(product.id)\"\n                    class=\"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors\"\n                    [disabled]=\"loading\"\n                  >\n                    ✗ Rejeter\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { UserService } from '../../services/user.service';\nimport { Router } from '@angular/router';\nimport { Product, PRODUCT_CATEGORIES } from '../../models/product.model';\nimport { User } from '../../models/user.model';\n\ninterface SellerProduct {\n  id: string;\n  name: string;\n  description: string;\n  price: number;\n  category: string;\n  status: string;\n  mainPhoto: string;\n  photos: Array<{\n    id: string;\n    url: string;\n    type: string;\n    order: number;\n  }>;\n  createdAt: string;\n  isFeatured?: boolean;\n  vipStatus?: number;\n  featuredUntil?: string;\n}\n\n@Component({\n  selector: 'app-dashboard-vendeur',\n  templateUrl: './dashboard-vendeur.component.html',\n  styleUrls: []\n})\nexport class DashboardVendeurComponent implements OnInit {\n  currentUser: User | null = null;\n  showAddProductForm = false;\n  productForm: FormGroup;\n  productCategories = PRODUCT_CATEGORIES;\n  loading = false;\n  sellerProducts: SellerProduct[] = [];\n  allSellerProducts: SellerProduct[] = [];\n  loadingProducts = false;\n\n  // Pagination properties\n  currentPage = 1;\n  itemsPerPage = 6;\n  totalPages = 1;\n  totalProducts = 0;\n\n  // Camera properties\n  showCamera = false;\n  capturedImage: string | null = null;\n  cameraStream: MediaStream | null = null;\n  photoCaptured = false;\n\n  // Secondary photos properties\n  secondaryPhotos: string[] = [];\n  secondaryPhotoFiles: File[] = [];\n\n  // Secondary camera properties\n  showSecondaryCamera = false;\n  secondaryCameraStream: MediaStream | null = null;\n\n  // Photo modal properties\n  showPhotoModal = false;\n  selectedPhotoUrl: string | null = null;\n  selectedPhotoAlt: string = '';\n\n  // Credits view properties\n  showCreditsView = false;\n  selectedPlan: any = null;\n  selectedProductForCredits: any = null;\n\n  constructor(\n    private userService: UserService,\n    private router: Router,\n    private fb: FormBuilder\n  ) {\n    this.productForm = this.fb.group({\n      name: ['', [Validators.required]],\n      category: ['', [Validators.required]],\n      description: ['', [Validators.required]],\n      price: ['', [Validators.required, Validators.min(0)]],\n      mainPhoto: [null, [Validators.required]],\n      secondaryPhotos: [null]\n    });\n  }\n\n  ngOnInit() {\n    this.loadCurrentUser();\n    this.loadSellerProducts();\n  }\n\n  loadCurrentUser() {\n    this.userService.getCurrentUser().subscribe({\n      next: (response) => {\n        this.currentUser = response.user;\n      },\n      error: () => {\n        this.router.navigate(['/login']);\n      }\n    });\n  }\n\n  logout() {\n    this.userService.logout().subscribe({\n      next: () => {\n        this.router.navigate(['/login']);\n      },\n      error: () => {\n        // Even if logout fails, clear local state\n        localStorage.removeItem('auth_token');\n        this.router.navigate(['/login']);\n      }\n    });\n  }\n\n  buyCredits() {\n    this.showCreditsView = true;\n    this.showAddProductForm = false; // Hide add product form if open\n  }\n\n  selectCreditPlan(plan: any) {\n    this.selectedPlan = plan;\n  }\n\n  selectProductForCredits(product: any) {\n    this.selectedProductForCredits = product;\n  }\n\n  purchaseCredits() {\n    if (!this.selectedPlan || !this.selectedProductForCredits) {\n      alert('Veuillez sélectionner un plan et un produit');\n      return;\n    }\n\n    this.userService.buyCredits(this.selectedPlan.credits, this.selectedProductForCredits.id).subscribe({\n      next: (response) => {\n        // Update credits locally\n        if (this.currentUser) {\n          (this.currentUser as any).credits = response.user.credits;\n        }\n        alert(`Crédits achetés avec succès! ${this.selectedPlan.credits} crédits pour le produit \"${this.selectedProductForCredits.name}\"`);\n        this.showCreditsView = false;\n        this.selectedPlan = null;\n        this.selectedProductForCredits = null;\n        // Refresh products to show VIP status\n        this.loadSellerProducts();\n      },\n      error: (error) => {\n        console.error('Error purchasing credits:', error);\n        alert('Erreur lors de l\\'achat des crédits');\n      }\n    });\n  }\n\n  cancelCreditsPurchase() {\n    this.showCreditsView = false;\n    this.selectedPlan = null;\n    this.selectedProductForCredits = null;\n  }\n\n\n  loadSellerProducts() {\n    this.loadingProducts = true;\n    this.userService.getSellerProducts().subscribe({\n      next: (response) => {\n        this.loadingProducts = false;\n        this.allSellerProducts = response.products || [];\n        this.applyPagination();\n      },\n      error: (error) => {\n        this.loadingProducts = false;\n        console.error('Error loading seller products:', error);\n        this.allSellerProducts = [];\n        this.sellerProducts = [];\n      }\n    });\n  }\n\n  applyPagination() {\n    this.totalProducts = this.allSellerProducts.length;\n    this.totalPages = Math.ceil(this.totalProducts / this.itemsPerPage);\n\n    // Reset to first page if current page is out of bounds\n    if (this.currentPage > this.totalPages) {\n      this.currentPage = 1;\n    }\n\n    // Get products for current page\n    const startIndex = (this.currentPage - 1) * this.itemsPerPage;\n    const endIndex = startIndex + this.itemsPerPage;\n    this.sellerProducts = this.allSellerProducts.slice(startIndex, endIndex);\n  }\n\n  onSubmitProduct() {\n    if (this.productForm.valid) {\n      this.loading = true;\n\n      const formData = new FormData();\n      formData.append('name', this.productForm.value.name);\n      formData.append('description', this.productForm.value.description);\n      formData.append('price', this.productForm.value.price);\n      formData.append('category', this.productForm.value.category);\n\n      // Add main photo\n      if (this.productForm.value.mainPhoto) {\n        formData.append('photos', this.productForm.value.mainPhoto);\n      }\n\n      // Add secondary photos from camera captures\n      if (this.secondaryPhotoFiles.length > 0) {\n        for (let i = 0; i < this.secondaryPhotoFiles.length; i++) {\n          formData.append('photos', this.secondaryPhotoFiles[i]);\n        }\n      }\n\n      this.userService.createProduct(formData).subscribe({\n        next: (response) => {\n          this.loading = false;\n          this.showAddProductForm = false;\n          this.productForm.reset();\n          this.capturedImage = null;\n          this.photoCaptured = false;\n          this.showCamera = false;\n          this.secondaryPhotos = [];\n          this.secondaryPhotoFiles = [];\n          // Stop all cameras if still running\n          if (this.cameraStream) {\n            this.cameraStream.getTracks().forEach(track => track.stop());\n            this.cameraStream = null;\n          }\n          if (this.secondaryCameraStream) {\n            this.secondaryCameraStream.getTracks().forEach(track => track.stop());\n            this.secondaryCameraStream = null;\n          }\n          this.loadSellerProducts(); // Refresh products list\n        },\n        error: (error) => {\n          this.loading = false;\n          console.error('Product creation error:', error);\n          if (error.error && error.error.errors && Array.isArray(error.error.errors)) {\n            // Validation errors from express-validator\n            const errorMessages = error.error.errors.map((err: any) => err.message).join(', ');\n            alert('Erreurs de validation: ' + errorMessages);\n          } else if (error.error && error.error.error) {\n            // Other backend errors\n            alert('Erreur: ' + error.error.error);\n          } else {\n            alert('Erreur lors de l\\'ajout du produit: ' + (error.message || 'Erreur inconnue'));\n          }\n        }\n      });\n    } else {\n      alert('Veuillez remplir tous les champs obligatoires correctement.');\n    }\n  }\n\n  getProductsByStatus(status: string): number {\n    return this.sellerProducts.filter(product => product.status === status).length;\n  }\n\n  getVipProductsCount(): number {\n    return this.sellerProducts.filter(product => product.isFeatured).length;\n  }\n\n  getDaysRemaining(featuredUntil: string): number {\n    if (!featuredUntil) return 0;\n    const endDate = new Date(featuredUntil);\n    const today = new Date();\n    const diffTime = endDate.getTime() - today.getTime();\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    return Math.max(0, diffDays);\n  }\n\n  isProductCurrentlyFeatured(product: SellerProduct): boolean {\n    return !!(product.vipStatus === 1 && product.featuredUntil && new Date(product.featuredUntil) > new Date());\n  }\n\n  isCurrentlyFeatured(product: SellerProduct): boolean {\n    return !!(product.featuredUntil && new Date(product.featuredUntil) > new Date());\n  }\n\n  onImageError(event: any) {\n    console.error('Image failed to load:', event.target.src);\n    event.target.src = 'https://via.placeholder.com/300x200?text=Image+non+disponible';\n  }\n\n  // Camera methods\n  startCamera() {\n    this.showCamera = true;\n    navigator.mediaDevices.getUserMedia({ video: true })\n      .then(stream => {\n        this.cameraStream = stream;\n        const videoElement = document.getElementById('cameraVideo') as HTMLVideoElement;\n        if (videoElement) {\n          videoElement.srcObject = stream;\n        }\n      })\n      .catch(error => {\n        console.error('Error accessing camera:', error);\n        alert('Erreur lors de l\\'accès à la caméra');\n        this.showCamera = false;\n      });\n  }\n\n  stopCamera() {\n    this.showCamera = false;\n    if (this.cameraStream) {\n      this.cameraStream.getTracks().forEach((track: MediaStreamTrack) => track.stop());\n      this.cameraStream = null;\n    }\n    // Don't reset capturedImage and photoCaptured here - keep the photo for display\n  }\n\n  capturePhoto() {\n    const videoElement = document.getElementById('cameraVideo') as HTMLVideoElement;\n    const canvasElement = document.getElementById('cameraCanvas') as HTMLCanvasElement;\n\n    if (videoElement && canvasElement && videoElement.readyState >= 2) { // HAVE_CURRENT_DATA or higher\n      console.log('Video dimensions:', videoElement.videoWidth, 'x', videoElement.videoHeight);\n      console.log('Video ready state:', videoElement.readyState);\n\n      const context = canvasElement.getContext('2d');\n      if (context) {\n        // Set canvas size to match video\n        canvasElement.width = videoElement.videoWidth || 640;\n        canvasElement.height = videoElement.videoHeight || 480;\n\n        // Draw the current video frame to canvas\n        try {\n          context.drawImage(videoElement, 0, 0, canvasElement.width, canvasElement.height);\n          console.log('Image drawn to canvas');\n\n          // Create data URL for immediate preview\n          this.capturedImage = canvasElement.toDataURL('image/jpeg');\n          this.photoCaptured = true;\n\n          // Convert canvas to blob and create file\n          canvasElement.toBlob((blob) => {\n            if (blob) {\n              console.log('Blob created, size:', blob.size);\n              const file = new File([blob], 'captured-photo.jpg', { type: 'image/jpeg' });\n\n              // Update form control\n              this.productForm.patchValue({\n                mainPhoto: file\n              });\n\n              console.log('Photo captured successfully');\n            } else {\n              console.error('Failed to create blob from canvas');\n            }\n          }, 'image/jpeg', 0.9); // High quality JPEG\n        } catch (error) {\n          console.error('Error drawing to canvas:', error);\n        }\n      }\n    } else {\n      console.error('Video not ready or elements not found. Ready state:', videoElement?.readyState);\n    }\n  }\n\n  confirmPhoto() {\n    this.showCamera = false;\n    if (this.cameraStream) {\n      this.cameraStream.getTracks().forEach((track: MediaStreamTrack) => track.stop());\n      this.cameraStream = null;\n    }\n  }\n\n  retakePhoto() {\n    this.capturedImage = null;\n  }\n\n  removeCapturedImage() {\n    this.capturedImage = null;\n    this.photoCaptured = false;\n    this.productForm.patchValue({\n      mainPhoto: null\n    });\n  }\n\n  getVideoDimensions(): string {\n    const videoElement = document.getElementById('cameraVideo') as HTMLVideoElement;\n    if (videoElement) {\n      return `${videoElement.videoWidth || 0} x ${videoElement.videoHeight || 0}`;\n    }\n    return 'N/A';\n  }\n\n  // Secondary photos methods\n  addSecondaryPhoto() {\n    this.startSecondaryCamera();\n  }\n\n  startSecondaryCamera() {\n    this.showSecondaryCamera = true;\n    navigator.mediaDevices.getUserMedia({ video: true })\n      .then(stream => {\n        this.secondaryCameraStream = stream;\n        const videoElement = document.getElementById('secondaryCameraVideo') as HTMLVideoElement;\n        if (videoElement) {\n          videoElement.srcObject = stream;\n        }\n      })\n      .catch(error => {\n        console.error('Error accessing camera:', error);\n        alert('Erreur lors de l\\'accès à la caméra');\n        this.showSecondaryCamera = false;\n      });\n  }\n\n  captureSecondaryPhoto() {\n    const videoElement = document.getElementById('secondaryCameraVideo') as HTMLVideoElement;\n    const canvasElement = document.getElementById('secondaryCameraCanvas') as HTMLCanvasElement;\n\n    if (videoElement && canvasElement && this.secondaryPhotos.length < 3) {\n      const context = canvasElement.getContext('2d');\n      if (context) {\n        canvasElement.width = videoElement.videoWidth;\n        canvasElement.height = videoElement.videoHeight;\n        context.drawImage(videoElement, 0, 0);\n        const imageUrl = canvasElement.toDataURL('image/jpeg');\n        const file = new File([this.dataURLToBlob(imageUrl)], `secondary-photo-${this.secondaryPhotos.length + 1}.jpg`, { type: 'image/jpeg' });\n\n        this.secondaryPhotos.push(imageUrl);\n        this.secondaryPhotoFiles.push(file);\n      }\n    }\n    this.stopSecondaryCamera();\n  }\n\n  stopSecondaryCamera() {\n    this.showSecondaryCamera = false;\n    if (this.secondaryCameraStream) {\n      this.secondaryCameraStream.getTracks().forEach((track: MediaStreamTrack) => track.stop());\n      this.secondaryCameraStream = null;\n    }\n  }\n\n  removeSecondaryPhoto(index: number) {\n    this.secondaryPhotos.splice(index, 1);\n    this.secondaryPhotoFiles.splice(index, 1);\n  }\n\n  dataURLToBlob(dataURL: string): Blob {\n    const arr = dataURL.split(',');\n    const mime = arr[0].match(/:(.*?);/)![1];\n    const bstr = atob(arr[1]);\n    let n = bstr.length;\n    const u8arr = new Uint8Array(n);\n    while (n--) {\n      u8arr[n] = bstr.charCodeAt(n);\n    }\n    return new Blob([u8arr], { type: mime });\n  }\n\n  // Photo modal methods\n  openPhotoModal(photoUrl: string, alt: string) {\n    this.selectedPhotoUrl = photoUrl;\n    this.selectedPhotoAlt = alt;\n    this.showPhotoModal = true;\n  }\n\n  closePhotoModal() {\n    this.showPhotoModal = false;\n    this.selectedPhotoUrl = null;\n    this.selectedPhotoAlt = '';\n  }\n\n  // Pagination methods\n  nextPage() {\n    if (this.currentPage < this.totalPages) {\n      this.currentPage++;\n      this.applyPagination();\n    }\n  }\n\n  prevPage() {\n    if (this.currentPage > 1) {\n      this.currentPage--;\n      this.applyPagination();\n    }\n  }\n\n  goToPage(page: number) {\n    if (page >= 1 && page <= this.totalPages) {\n      this.currentPage = page;\n      this.applyPagination();\n    }\n  }\n}","<div class=\"min-h-screen bg-gray-100\">\n  <!-- Navbar -->\n  <nav class=\"bg-white shadow-md px-8 py-4 flex justify-between items-center\">\n    <div class=\"flex items-center\">\n      <h1 class=\"text-2xl font-bold text-orange-500\">Photol Jay</h1>\n    </div>\n    <div class=\"flex items-center space-x-6\">\n      <div class=\"flex items-center space-x-2\" *ngIf=\"currentUser\">\n        <span class=\"text-gray-600\">👤</span>\n        <span class=\"font-medium\">{{ currentUser.firstName }} {{ currentUser.lastName }}</span>\n      </div>\n      <button class=\"p-2 text-gray-600 hover:text-orange-500 transition-colors\">\n        ⚙️\n      </button>\n      <button (click)=\"logout()\" class=\"p-2 text-gray-600 hover:text-red-500 transition-colors\">\n        🚪\n      </button>\n    </div>\n  </nav>\n\n  <!-- Body -->\n  <div class=\"p-8\">\n    <!-- Stats Cards -->\n    <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n      <div class=\"bg-white p-6 rounded-lg shadow-md text-center hover:shadow-lg transition-shadow\">\n        <h3 class=\"text-lg font-semibold text-gray-700 mb-2\">Crédits VIP</h3>\n        <p class=\"text-3xl font-bold text-orange-500\">{{ currentUser?.credits || 0 }}</p>\n        <p class=\"text-sm text-gray-500 mt-1\">Total produits VIP: {{ getVipProductsCount() }}</p>\n      </div>\n      <div class=\"bg-white p-6 rounded-lg shadow-md text-center hover:shadow-lg transition-shadow\">\n        <h3 class=\"text-lg font-semibold text-gray-700 mb-2\">En attente</h3>\n        <p class=\"text-3xl font-bold text-yellow-500\">{{ getProductsByStatus('PENDING') }}</p>\n      </div>\n      <div class=\"bg-white p-6 rounded-lg shadow-md text-center hover:shadow-lg transition-shadow\">\n        <h3 class=\"text-lg font-semibold text-gray-700 mb-2\">Validés</h3>\n        <p class=\"text-3xl font-bold text-green-500\">{{ getProductsByStatus('APPROVED') }}</p>\n      </div>\n      <div class=\"bg-white p-6 rounded-lg shadow-md text-center hover:shadow-lg transition-shadow\">\n        <h3 class=\"text-lg font-semibold text-gray-700 mb-2\">Total produits</h3>\n        <p class=\"text-3xl font-bold text-blue-500\">{{ sellerProducts.length }}</p>\n      </div>\n    </div>\n\n    <!-- Action Buttons -->\n    <div class=\"flex space-x-4 mb-8\">\n      <button (click)=\"showAddProductForm = !showAddProductForm\" class=\"px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors font-medium\">\n        ➕ Ajouter un produit\n      </button>\n      <button (click)=\"buyCredits()\" class=\"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium\">\n        💎 Acheter des crédits VIP\n      </button>\n    </div>\n\n    <!-- Add Product Form -->\n    <div *ngIf=\"showAddProductForm\" class=\"bg-white p-6 rounded-lg shadow-md mb-8\">\n      <h2 class=\"text-xl font-bold mb-4\">Ajouter un nouveau produit</h2>\n      <form [formGroup]=\"productForm\" (ngSubmit)=\"onSubmitProduct()\" class=\"space-y-4\">\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div>\n            <label for=\"name\" class=\"block text-sm font-medium text-gray-700\">Nom du produit *</label>\n            <input\n              type=\"text\"\n              id=\"name\"\n              formControlName=\"name\"\n              placeholder=\"Nom du produit\"\n              class=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500\"\n              [class.border-red-500]=\"productForm.get('name')?.invalid && productForm.get('name')?.touched\"\n            >\n            <p class=\"mt-1 text-sm text-red-600\" *ngIf=\"productForm.get('name')?.invalid && productForm.get('name')?.touched\">\n              Le nom du produit est requis\n            </p>\n          </div>\n\n          <div>\n            <label for=\"category\" class=\"block text-sm font-medium text-gray-700\">Catégorie *</label>\n            <select\n              id=\"category\"\n              formControlName=\"category\"\n              class=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500\"\n              [class.border-red-500]=\"productForm.get('category')?.invalid && productForm.get('category')?.touched\"\n            >\n              <option value=\"\">Sélectionner une catégorie</option>\n              <option *ngFor=\"let cat of productCategories\" [value]=\"cat.value\">{{ cat.label }}</option>\n            </select>\n            <p class=\"mt-1 text-sm text-red-600\" *ngIf=\"productForm.get('category')?.invalid && productForm.get('category')?.touched\">\n              La catégorie est requise\n            </p>\n          </div>\n        </div>\n\n        <div>\n          <label for=\"description\" class=\"block text-sm font-medium text-gray-700\">Description *</label>\n          <textarea\n            id=\"description\"\n            formControlName=\"description\"\n            rows=\"3\"\n            placeholder=\"Description du produit\"\n            class=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500\"\n            [class.border-red-500]=\"productForm.get('description')?.invalid && productForm.get('description')?.touched\"\n          ></textarea>\n          <p class=\"mt-1 text-sm text-red-600\" *ngIf=\"productForm.get('description')?.invalid && productForm.get('description')?.touched\">\n            La description est requise\n          </p>\n        </div>\n\n        <div>\n          <label for=\"price\" class=\"block text-sm font-medium text-gray-700\">Prix *</label>\n          <input\n            type=\"number\"\n            id=\"price\"\n            formControlName=\"price\"\n            placeholder=\"0.00\"\n            min=\"0\"\n            step=\"0.01\"\n            class=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500\"\n            [class.border-red-500]=\"productForm.get('price')?.invalid && productForm.get('price')?.touched\"\n          >\n          <p class=\"mt-1 text-sm text-red-600\" *ngIf=\"productForm.get('price')?.invalid && productForm.get('price')?.touched\">\n            Le prix est requis et doit être positif\n          </p>\n        </div>\n\n        <div>\n          <label for=\"mainPhoto\" class=\"block text-sm font-medium text-gray-700\">Photo principale *</label>\n          <div class=\"mt-1\">\n            <div *ngIf=\"!showCamera && !capturedImage\" class=\"flex items-center space-x-4\">\n              <button\n                type=\"button\"\n                (click)=\"startCamera()\"\n                class=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors\"\n              >\n                📷 Prendre une photo\n              </button>\n            </div>\n\n            <div *ngIf=\"capturedImage\" class=\"flex items-center space-x-4\">\n              <img [src]=\"capturedImage\" alt=\"Photo capturée\" class=\"w-18 h-16 object-cover rounded border\">\n              <div class=\"flex flex-col space-y-1\">\n                <button\n                  type=\"button\"\n                  (click)=\"startCamera()\"\n                  class=\"px-3 py-1 bg-blue-500 text-white text-xs rounded hover:bg-blue-600 transition-colors\"\n                >\n                  🔄 Changer\n                </button>\n                <button\n                  type=\"button\"\n                  (click)=\"removeCapturedImage()\"\n                  class=\"px-3 py-1 bg-red-500 text-white text-xs rounded hover:bg-red-600 transition-colors\"\n                >\n                  ❌ Supprimer\n                </button>\n              </div>\n            </div>\n\n          <!-- Camera Modal -->\n          <div *ngIf=\"showCamera\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50\" style=\"z-index: 9999;\">\n            <div class=\"bg-white rounded-lg p-6 w-full max-w-md mx-4\" style=\"width: 90%; max-width: 500px;\">\n              <div class=\"text-center mb-4\">\n                <h3 class=\"text-lg font-medium text-gray-900 mb-2\">Prendre une photo</h3>\n                <div class=\"relative bg-gray-100 p-2 rounded\">\n                  <video\n                    id=\"cameraVideo\"\n                    class=\"w-full h-64 object-cover border rounded bg-black\"\n                    autoplay\n                    playsinline\n                    muted\n                    style=\"display: block;\"\n                    *ngIf=\"!photoCaptured\"\n                  ></video>\n                  <div *ngIf=\"photoCaptured && capturedImage\" class=\"relative\">\n                    <img\n                      [src]=\"capturedImage\"\n                      alt=\"Photo capturée\"\n                      class=\"w-full h-64 object-cover border rounded\"\n                    >\n                    <button\n                      type=\"button\"\n                      (click)=\"removeCapturedImage()\"\n                      class=\"absolute top-2 right-2 bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center hover:bg-red-600\"\n                      title=\"Supprimer cette photo\"\n                    >\n                      ❌\n                    </button>\n                  </div>\n                  <canvas\n                    id=\"cameraCanvas\"\n                    class=\"w-full h-64 object-cover border rounded\"\n                    style=\"display: none;\"\n                  ></canvas>\n                  <div *ngIf=\"!cameraStream\" class=\"absolute inset-0 flex items-center justify-center text-gray-500\">\n                    Chargement de la caméra...\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"flex justify-center space-x-4\" *ngIf=\"!photoCaptured\">\n                <button\n                  type=\"button\"\n                  (click)=\"capturePhoto()\"\n                  class=\"px-6 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition-colors\"\n                  [disabled]=\"!cameraStream\"\n                >\n                  📸 Prendre la photo\n                </button>\n                <button\n                  type=\"button\"\n                  (click)=\"stopCamera()\"\n                  class=\"px-6 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors\"\n                >\n                  Annuler\n                </button>\n              </div>\n\n              <div class=\"flex justify-center space-x-4\" *ngIf=\"photoCaptured\">\n                <button\n                  type=\"button\"\n                  (click)=\"stopCamera()\"\n                  class=\"px-6 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition-colors\"\n                >\n                  ✅ Utiliser cette photo\n                </button>\n                <button\n                  type=\"button\"\n                  (click)=\"removeCapturedImage()\"\n                  class=\"px-6 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors\"\n                >\n                  🔄 Reprendre\n                </button>\n              </div>\n\n              <!-- Debug info -->\n              <div class=\"mt-4 text-xs text-gray-500 text-center\">\n                <p>Stream actif: {{ cameraStream ? 'Oui' : 'Non' }}</p>\n                <p>Dimensions vidéo: {{ getVideoDimensions() }}</p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Secondary Camera Modal -->\n          <div *ngIf=\"showSecondaryCamera\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50\" style=\"z-index: 9999;\">\n            <div class=\"bg-white rounded-lg p-6 w-full max-w-md mx-4\" style=\"width: 90%; max-width: 500px;\">\n              <div class=\"text-center mb-4\">\n                <h3 class=\"text-lg font-medium text-gray-900 mb-2\">Prendre une photo secondaire</h3>\n                <div class=\"relative bg-gray-100 p-2 rounded\">\n                  <video\n                    id=\"secondaryCameraVideo\"\n                    class=\"w-full h-64 object-cover border rounded bg-black\"\n                    autoplay\n                    playsinline\n                    muted\n                    style=\"display: block;\"\n                  ></video>\n                  <canvas\n                    id=\"secondaryCameraCanvas\"\n                    class=\"w-full h-64 object-cover border rounded\"\n                    style=\"display: none;\"\n                  ></canvas>\n                  <div *ngIf=\"!secondaryCameraStream\" class=\"absolute inset-0 flex items-center justify-center text-gray-500\">\n                    Chargement de la caméra...\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"flex justify-center space-x-4\">\n                <button\n                  type=\"button\"\n                  (click)=\"captureSecondaryPhoto()\"\n                  class=\"px-6 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition-colors\"\n                  [disabled]=\"!secondaryCameraStream\"\n                >\n                  📸 Prendre la photo\n                </button>\n                <button\n                  type=\"button\"\n                  (click)=\"stopSecondaryCamera()\"\n                  class=\"px-6 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors\"\n                >\n                  Annuler\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div>\n          <label for=\"secondaryPhotos\" class=\"block text-sm font-medium text-gray-700\">Photos secondaires (max 3)</label>\n          <div class=\"mt-1 space-y-2\">\n            <button\n              type=\"button\"\n              (click)=\"addSecondaryPhoto()\"\n              *ngIf=\"secondaryPhotos.length < 3\"\n              class=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500\"\n            >\n              <svg class=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\"></path>\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 13a3 3 0 11-6 0 3 3 0 016 0z\"></path>\n              </svg>\n              📷 Ajouter une photo secondaire ({{ secondaryPhotos.length }}/3)\n            </button>\n            <div class=\"grid grid-cols-2 md:grid-cols-3 gap-2\" *ngIf=\"secondaryPhotos.length > 0\">\n              <div class=\"relative\" *ngFor=\"let photo of secondaryPhotos; let i = index\">\n                <img [src]=\"photo\" alt=\"Photo secondaire {{ i + 1 }}\" class=\"w-full h-20 object-cover rounded border\">\n                <button\n                  type=\"button\"\n                  (click)=\"removeSecondaryPhoto(i)\"\n                  class=\"absolute top-1 right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs hover:bg-red-600\"\n                >\n                  ×\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n       </div>\n\n         <div class=\"flex space-x-4\">\n          <button\n            type=\"submit\"\n            class=\"px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors font-medium disabled:opacity-50\"\n            [disabled]=\"productForm.invalid || loading\"\n          >\n            <span *ngIf=\"loading\">Ajout en cours...</span>\n            <span *ngIf=\"!loading\">Ajouter le produit</span>\n          </button>\n          <button\n            type=\"button\"\n            (click)=\"showAddProductForm = false\"\n            class=\"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium\"\n          >\n            Annuler\n          </button>\n        </div>\n      </form>\n    </div>\n\n    <!-- Credits View -->\n    <div *ngIf=\"showCreditsView\" class=\"bg-white p-6 rounded-lg shadow-md mb-8\">\n      <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n        <!-- Carte 5 crédits - 1 semaine -->\n        <div class=\"bg-white rounded-lg shadow-md p-6 border border-gray-200 hover:shadow-lg transition-shadow\">\n          <div class=\"text-center\">\n            <div class=\"text-4xl font-bold text-blue-600 mb-2\">5</div>\n            <div class=\"text-lg font-semibold mb-2\">Crédits</div>\n            <div class=\"text-gray-600 mb-4\">1 semaine</div>\n            <button\n              class=\"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors\"\n              [class.bg-gray-400]=\"selectedPlan?.credits === 5\"\n              (click)=\"selectCreditPlan({credits: 5, duration: 1})\">\n              {{ selectedPlan?.credits === 5 ? 'Sélectionné' : 'Souscrire' }}\n            </button>\n          </div>\n        </div>\n\n        <!-- Carte 10 crédits - 1 mois -->\n        <div class=\"bg-white rounded-lg shadow-md p-6 border border-gray-200 hover:shadow-lg transition-shadow\">\n          <div class=\"text-center\">\n            <div class=\"text-4xl font-bold text-green-600 mb-2\">10</div>\n            <div class=\"text-lg font-semibold mb-2\">Crédits</div>\n            <div class=\"text-gray-600 mb-4\">1 mois</div>\n            <button\n              class=\"w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition-colors\"\n              [class.bg-gray-400]=\"selectedPlan?.credits === 10\"\n              (click)=\"selectCreditPlan({credits: 10, duration: 1})\">\n              {{ selectedPlan?.credits === 10 ? 'Sélectionné' : 'Souscrire' }}\n            </button>\n          </div>\n        </div>\n\n        <!-- Carte 20 crédits - 1 mois 15 jours -->\n        <div class=\"bg-white rounded-lg shadow-md p-6 border border-gray-200 hover:shadow-lg transition-shadow\">\n          <div class=\"text-center\">\n            <div class=\"text-4xl font-bold text-purple-600 mb-2\">20</div>\n            <div class=\"text-lg font-semibold mb-2\">Crédits</div>\n            <div class=\"text-gray-600 mb-4\">1 mois 15 jours</div>\n            <button\n              class=\"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 transition-colors\"\n              [class.bg-gray-400]=\"selectedPlan?.credits === 20\"\n              (click)=\"selectCreditPlan({credits: 20, duration: 1.5})\">\n              {{ selectedPlan?.credits === 20 ? 'Sélectionné' : 'Souscrire' }}\n            </button>\n          </div>\n        </div>\n\n        <!-- Carte 40 crédits - 2 mois -->\n        <div class=\"bg-white rounded-lg shadow-md p-6 border border-gray-200 hover:shadow-lg transition-shadow\">\n          <div class=\"text-center\">\n            <div class=\"text-4xl font-bold text-red-600 mb-2\">40</div>\n            <div class=\"text-lg font-semibold mb-2\">Crédits</div>\n            <div class=\"text-gray-600 mb-4\">2 mois</div>\n            <button\n              class=\"w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition-colors\"\n              [class.bg-gray-400]=\"selectedPlan?.credits === 40\"\n              (click)=\"selectCreditPlan({credits: 40, duration: 2})\">\n              {{ selectedPlan?.credits === 40 ? 'Sélectionné' : 'Souscrire' }}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <!-- Product Selection -->\n      <div *ngIf=\"selectedPlan\" class=\"border-t pt-6\">\n        <h3 class=\"text-lg font-semibold mb-4\">Sélectionner un produit à mettre en avant</h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6\">\n          <div\n            class=\"border rounded-lg p-4 cursor-pointer hover:bg-gray-50 transition-colors\"\n            *ngFor=\"let product of sellerProducts\"\n            [class.border-blue-500]=\"selectedProductForCredits?.id === product.id\"\n            [class.opacity-50]=\"product.vipStatus === 1 && product.featuredUntil && isCurrentlyFeatured(product)\"\n            (click)=\"selectProductForCredits(product)\">\n            <div class=\"flex items-center space-x-4\">\n              <img\n                [src]=\"product.photos[0]?.url || '/assets/images/no-image.png'\"\n                [alt]=\"product.name\"\n                class=\"w-16 h-16 object-cover rounded-md\">\n              <div class=\"flex-1\">\n                <h4 class=\"font-semibold\">{{ product.name }}</h4>\n                <p class=\"text-sm text-gray-600\">{{ product.description | slice:0:50 }}...</p>\n                <p class=\"text-sm font-medium text-green-600\">{{ product.price | currency:'XOF':'symbol':'1.0-0' }}</p>\n                <div *ngIf=\"isProductCurrentlyFeatured(product)\" class=\"text-xs text-orange-600 mt-1\">\n                  Déjà VIP ({{ getDaysRemaining(product.featuredUntil!) }}j restants)\n                </div>\n              </div>\n              <input\n                type=\"radio\"\n                [checked]=\"selectedProductForCredits?.id === product.id\"\n                [disabled]=\"isProductCurrentlyFeatured(product)\"\n                class=\"w-4 h-4 text-blue-600\">\n            </div>\n          </div>\n        </div>\n\n        <div class=\"flex justify-end space-x-4\">\n          <button\n            class=\"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors\"\n            (click)=\"cancelCreditsPurchase()\">\n            Annuler\n          </button>\n          <button\n            class=\"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\"\n            [disabled]=\"!selectedProductForCredits\"\n            (click)=\"purchaseCredits()\">\n            Acheter les Crédits\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Filter Buttons -->\n    <div class=\"flex space-x-4 mb-6\" *ngIf=\"!showCreditsView\">\n      <button class=\"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors\">Refusé</button>\n      <button class=\"px-4 py-2 bg-yellow-100 text-yellow-700 rounded-lg hover:bg-yellow-200 transition-colors\">En attente</button>\n      <button class=\"px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors\">Validé</button>\n    </div>\n\n    <!-- Products List -->\n    <div *ngIf=\"loadingProducts && !showCreditsView\" class=\"text-center py-8\">\n      <p class=\"text-gray-600\">Chargement des produits...</p>\n    </div>\n    <div *ngIf=\"!loadingProducts && sellerProducts.length === 0 && !showCreditsView\" class=\"text-center py-8\">\n      <p class=\"text-gray-600\">Aucun produit trouvé. Ajoutez votre premier produit !</p>\n    </div>\n    <div *ngIf=\"!loadingProducts && sellerProducts.length > 0 && !showCreditsView\" class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6\">\n      <div class=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow\" *ngFor=\"let product of sellerProducts\">\n        <div class=\"relative\">\n          <img [src]=\"product.mainPhoto\" [alt]=\"product.name\" class=\"w-full h-48 object-cover\" (error)=\"onImageError($event)\">\n          <!-- Photo count indicator -->\n          <div *ngIf=\"product.photos && product.photos.length > 1\" class=\"absolute top-2 right-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded\">\n            📷 {{ product.photos.length }}\n          </div>\n        </div>\n        <div class=\"p-4\">\n          <h3 class=\"text-lg font-semibold mb-2\">{{ product.name }}</h3>\n          <div class=\"flex items-center justify-between mb-2\">\n            <p class=\"text-sm text-gray-500\">{{ product.description }}</p>\n            <div *ngIf=\"product.vipStatus === 1\" class=\"flex items-center space-x-1 bg-gradient-to-r from-yellow-400 to-yellow-600 text-white text-xs px-2 py-1 rounded-full font-bold\">\n              <span>👑</span>\n              <span>VIP</span>\n              <span *ngIf=\"product.featuredUntil\" class=\"ml-1 text-xs\">\n                ({{ getDaysRemaining(product.featuredUntil) }}j)\n              </span>\n            </div>\n          </div>\n          <p class=\"text-gray-600 mb-2\">{{ product.category }}</p>\n          <div class=\"flex justify-between items-center mb-2\">\n            <span class=\"text-xl font-bold text-orange-500\">{{ product.price | number:'':'fr-FR' }} FCFA</span>\n            <span class=\"px-2 py-1 text-xs rounded-full\"\n                  [ngClass]=\"{\n                    'bg-green-100 text-green-800': product.status === 'APPROVED',\n                    'bg-yellow-100 text-yellow-800': product.status === 'PENDING',\n                    'bg-red-100 text-red-800': product.status === 'REJECTED'\n                  }\">\n              {{ product.status === 'APPROVED' ? 'Validé' : product.status === 'PENDING' ? 'En attente' : 'Refusé' }}\n            </span>\n          </div>\n          <!-- Additional photos preview -->\n          <div *ngIf=\"product.photos && product.photos.length > 1\" class=\"flex space-x-2 mt-2\">\n            <img *ngFor=\"let photo of product.photos.slice(1, 4); let i = index\"\n                 [src]=\"photo.url\"\n                 [alt]=\"product.name + ' - photo ' + (i + 2)\"\n                 class=\"w-16 h-16 object-cover rounded border border-gray-200 cursor-pointer hover:border-orange-300 transition-colors\"\n                 (error)=\"onImageError($event)\"\n                 (click)=\"openPhotoModal(photo.url, product.name + ' - photo ' + (i + 2))\">\n            <div *ngIf=\"product.photos.length > 4\" class=\"w-16 h-16 bg-gray-100 border border-gray-200 rounded flex items-center justify-center text-xs text-gray-500\">\n              +{{ product.photos.length - 4 }}\n            </div>\n          </div>\n        </div>\n\n        <!-- Pagination -->\n        <div class=\"flex justify-center items-center space-x-4\" *ngIf=\"totalPages > 1\">\n          <button (click)=\"prevPage()\" [disabled]=\"currentPage === 1\"\n                  class=\"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\">\n            Précédent\n          </button>\n\n          <div class=\"flex space-x-2\">\n            <span class=\"px-3 py-2 bg-orange-100 text-orange-700 rounded\">\n              {{ currentPage }} / {{ totalPages }}\n            </span>\n          </div>\n\n          <button (click)=\"nextPage()\" [disabled]=\"currentPage === totalPages\"\n                  class=\"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\">\n            Suivant\n          </button>\n        </div>\n\n        <!-- Photo Modal -->\n        <div *ngIf=\"showPhotoModal && selectedPhotoUrl\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4\" style=\"z-index: 9999;\">\n          <div class=\"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden\">\n            <div class=\"p-4\">\n              <div class=\"flex justify-between items-center mb-4\">\n                <h3 class=\"text-lg font-semibold text-gray-800\">{{ selectedPhotoAlt }}</h3>\n                <button (click)=\"closePhotoModal()\" class=\"text-gray-500 hover:text-gray-700 text-2xl\">&times;</button>\n              </div>\n              <div class=\"flex justify-center\">\n                <img [src]=\"selectedPhotoUrl\" [alt]=\"selectedPhotoAlt\" class=\"max-w-full max-h-[70vh] object-contain rounded\">\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n   </div>\n</div>","<div class=\"min-h-screen bg-gray-100\">\n  <!-- Header -->\n  <header class=\"bg-white shadow-md px-8 py-4 flex justify-between items-center\">\n    <h1 class=\"text-2xl font-bold text-orange-500\">Photol Jay</h1>\n    <div class=\"flex space-x-4 items-center\">\n      <div *ngIf=\"isLoggedIn && currentUser\" class=\"flex items-center space-x-4\">\n        <span class=\"text-gray-700\">Bienvenue, {{ currentUser.firstName }} {{ currentUser.lastName }}</span>\n        <button (click)=\"logout()\" class=\"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors flex items-center space-x-2\">\n          <span>🚪</span>\n          <span>Déconnexion</span>\n        </button>\n      </div>\n      <div *ngIf=\"!isLoggedIn\" class=\"flex space-x-4\">\n        <button routerLink=\"/login\" class=\"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600 transition-colors\">\n          Se connecter\n        </button>\n        <button routerLink=\"/register\" class=\"px-4 py-2 bg-black text-white rounded hover:bg-gray-800 transition-colors\">\n          vendre\n        </button>\n      </div>\n      <div *ngIf=\"isLoggedIn && currentUser?.role === 'SELLER'\" class=\"flex space-x-4\">\n        <button routerLink=\"/buy-credits\" class=\"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors flex items-center space-x-2\">\n          <span>⭐</span>\n          <span>Acheter Crédits VIP</span>\n        </button>\n      </div>\n    </div>\n  </header>\n\n  <!-- Hero Section -->\n  <section class=\"bg-orange-500 text-white py-16 px-8 text-center\">\n    <h2 class=\"text-3xl font-bold mb-4\">Achetez et vendez vos produits plus facilement avec votre application Photol Jay</h2>\n    <p class=\"text-xl\">Des milliers de produits disponibles dans toutes les catégories</p>\n  </section>\n\n  <!-- Search and Filters -->\n  <section class=\"py-8 px-8\">\n    <div class=\"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-4\">\n      <div class=\"bg-white p-4 rounded-lg shadow-md\">\n        <input type=\"text\" placeholder=\"Rechercher un produit\" [(ngModel)]=\"searchQuery\" (input)=\"onSearchInput()\" class=\"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-orange-500\">\n      </div>\n      <div class=\"bg-white p-4 rounded-lg shadow-md\">\n        <select [(ngModel)]=\"selectedCategory\" (change)=\"onFilterChange()\" class=\"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-orange-500\">\n          <option value=\"\">Toutes les catégories</option>\n          <option value=\"Agroalimentaire\">Agroalimentaire</option>\n          <option value=\"Animaux\">Animaux</option>\n          <option value=\"Immobilier\">Immobilier</option>\n          <option value=\"Maison\">Maison</option>\n          <option value=\"Équipement\">Équipement</option>\n          <option value=\"Mode & Beauté\">Mode & Beauté</option>\n          <option value=\"Multimédia\">Multimédia</option>\n          <option value=\"Sport & Loisirs\">Sport & Loisirs</option>\n          <option value=\"Véhicules\">Véhicules</option>\n          <option value=\"Autre\">Autre</option>\n        </select>\n      </div>\n      <div class=\"bg-white p-4 rounded-lg shadow-md\">\n        <select [(ngModel)]=\"selectedCity\" (change)=\"onFilterChange()\" class=\"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-orange-500\">\n          <option value=\"\">Toutes les villes</option>\n          <option value=\"Dakar\">Dakar</option>\n          <option value=\"Thiès\">Thiès</option>\n          <option value=\"Saint-Louis\">Saint-Louis</option>\n          <option value=\"Ziguinchor\">Ziguinchor</option>\n          <option value=\"Kaolack\">Kaolack</option>\n          <option value=\"Diourbel\">Diourbel</option>\n          <option value=\"Louga\">Louga</option>\n          <option value=\"Fatick\">Fatick</option>\n          <option value=\"Tambacounda\">Tambacounda</option>\n          <option value=\"Kédougou\">Kédougou</option>\n          <option value=\"Kaffrine\">Kaffrine</option>\n          <option value=\"Kolda\">Kolda</option>\n          <option value=\"Sédhiou\">Sédhiou</option>\n          <option value=\"Matam\">Matam</option>\n        </select>\n      </div>\n      <div class=\"bg-white p-4 rounded-lg shadow-md\">\n        <select [(ngModel)]=\"selectedPriceRange\" (change)=\"onFilterChange()\" class=\"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-orange-500\">\n          <option value=\"\">Tous les prix</option>\n          <option value=\"0-50000\">0 - 50,000 FCFA</option>\n          <option value=\"50000-200000\">50,000 - 200,000 FCFA</option>\n          <option value=\"200000-500000\">200,000 - 500,000 FCFA</option>\n          <option value=\"500000-1000000\">500,000 - 1,000,000 FCFA</option>\n          <option value=\"1000000+\">Plus de 1,000,000 FCFA</option>\n        </select>\n      </div>\n    </div>\n  </section>\n\n  <!-- Products Grid -->\n  <section class=\"py-8 px-8\">\n    <div class=\"max-w-6xl mx-auto\">\n      <h2 class=\"text-2xl font-bold mb-6 text-center\">Produits disponibles</h2>\n      <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n        <div class=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow relative\" *ngFor=\"let product of products\">\n          <!-- VIP badge -->\n          <div *ngIf=\"product.isFeatured\" class=\"absolute top-2 left-2 bg-gradient-to-r from-yellow-400 to-yellow-600 text-white text-xs px-3 py-1 rounded-full z-10 font-bold flex items-center space-x-1 shadow-lg\">\n            <span>👑</span>\n            <span>VIP</span>\n          </div>\n          <img [src]=\"product.mainPhoto\" [alt]=\"product.name\" class=\"w-full h-48 object-cover\" (error)=\"onImageError($event)\" *ngIf=\"product.mainPhoto && product.mainPhoto !== 'http://localhost:4200/assets/images/no-image.png'\">\n          <div class=\"w-full h-48 bg-gray-200 flex items-center justify-center text-gray-500\" *ngIf=\"!product.mainPhoto || product.mainPhoto === 'http://localhost:4200/assets/images/no-image.png'\">\n            <span class=\"text-lg\">📷 Image non disponible</span>\n          </div>\n          <div class=\"p-4\">\n            <h3 class=\"text-lg font-semibold mb-2\">{{ product.name }}</h3>\n            <div class=\"flex items-center justify-between mb-2\">\n              <p class=\"text-sm text-blue-600\">{{ product.category }}</p>\n              <div *ngIf=\"product.vipStatus === 1\" class=\"flex items-center space-x-1 bg-gradient-to-r from-yellow-400 to-yellow-600 text-white text-xs px-2 py-1 rounded-full font-bold\">\n                <span>👑</span>\n                <span>VIP</span>\n              </div>\n            </div>\n            <div class=\"mb-3\">\n              <div class=\"text-xl font-bold text-orange-500 mb-2\">{{ product.price | number:'':'fr-FR' }} FCFA</div>\n              <div class=\"flex space-x-2\">\n                <button *ngIf=\"product.seller.phone\" (click)=\"callSeller(product.seller.phone!)\" class=\"p-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-colors\" title=\"Appeler\">\n                  📞\n                </button>\n                <button *ngIf=\"product.seller.whatsappLink\" (click)=\"whatsappSeller(product.seller.whatsappLink!)\" class=\"p-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition-colors\" title=\"WhatsApp\">\n                  <span class=\"text-white\">💬</span>\n                </button>\n                <button (click)=\"emailSeller(product.seller.email)\" class=\"p-2 bg-gray-500 text-white rounded-full hover:bg-gray-600 transition-colors\" title=\"Email\">\n                  <span class=\"text-white\">✉️</span>\n                </button>\n              </div>\n            </div>\n            <button (click)=\"openProductModal(product)\" class=\"w-full px-3 py-2 bg-orange-500 text-white rounded hover:bg-orange-600 transition-colors\">\n              Voir détails\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <!-- Call Modal -->\n      <div *ngIf=\"showCallModal\" class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n        <div class=\"bg-white p-6 rounded-lg shadow-lg max-w-md w-full mx-4\">\n          <h3 class=\"text-lg font-semibold mb-4\">Appeler le vendeur</h3>\n          <p class=\"text-gray-700 mb-4\">Veuillez appeler sur {{ callPhoneNumber }}</p>\n          <div class=\"flex justify-end space-x-2\">\n            <button (click)=\"closeCallModal()\" class=\"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 transition-colors\">\n              Fermer\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <!-- Pagination -->\n      <div class=\"flex justify-center mt-8\" *ngIf=\"totalPages > 1\">\n        <button (click)=\"prevPage()\" [disabled]=\"currentPage === 1\" class=\"px-4 py-2 mx-1 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed\">\n          Précédent\n        </button>\n        <span class=\"px-4 py-2 mx-1\">{{ currentPage }} / {{ totalPages }}</span>\n        <button (click)=\"nextPage()\" [disabled]=\"currentPage === totalPages\" class=\"px-4 py-2 mx-1 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed\">\n          Suivant\n        </button>\n      </div>\n\n      <!-- Product Details Modal -->\n      <div *ngIf=\"showProductModal && selectedProduct\" class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n        <div class=\"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\n          <div class=\"p-6\">\n            <div class=\"flex justify-between items-center mb-6\">\n              <h2 class=\"text-2xl font-bold text-gray-800\">Détails du produit</h2>\n              <button (click)=\"closeProductModal()\" class=\"text-gray-500 hover:text-gray-700 text-2xl\">&times;</button>\n            </div>\n\n            <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n              <!-- Product Image -->\n              <div class=\"space-y-4\">\n                <div class=\"aspect-w-4 aspect-h-3 bg-gray-100 rounded-lg overflow-hidden\">\n                  <img [src]=\"selectedProduct.mainPhoto\" [alt]=\"selectedProduct.name\"\n                       class=\"w-full h-64 object-cover\" (error)=\"onImageError($event)\" *ngIf=\"selectedProduct.mainPhoto && selectedProduct.mainPhoto !== 'http://localhost:3000/uploads/no-image.png'\">\n                  <div class=\"w-full h-64 bg-gray-200 flex items-center justify-center text-gray-500\" *ngIf=\"!selectedProduct.mainPhoto || selectedProduct.mainPhoto === 'http://localhost:3000/uploads/no-image.png'\">\n                    <span class=\"text-lg\">📷 Image non disponible</span>\n                  </div>\n                </div>\n                <!-- Secondary Images -->\n                <div class=\"grid grid-cols-3 gap-2\" *ngIf=\"selectedProduct.photos && selectedProduct.photos.length > 0\">\n                  <div *ngFor=\"let photo of selectedProduct.photos.slice(0, 3)\" class=\"aspect-w-1 aspect-h-1 bg-gray-100 rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity\">\n                    <img [src]=\"photo.url\" [alt]=\"selectedProduct.name\"\n                         class=\"w-full h-full object-cover\" (error)=\"onImageError($event)\">\n                  </div>\n                </div>\n              </div>\n\n              <!-- Product Information -->\n              <div class=\"space-y-6\">\n                <div>\n                  <h3 class=\"text-xl font-semibold text-gray-800 mb-2\">{{ selectedProduct.name }}</h3>\n                  <div class=\"flex items-center space-x-2 mb-2\">\n                    <p class=\"text-sm text-blue-600 bg-blue-50 px-3 py-1 rounded-full\">{{ selectedProduct.category }}</p>\n                    <div *ngIf=\"selectedProduct.vipStatus === 1\" class=\"flex items-center space-x-1 bg-gradient-to-r from-yellow-400 to-yellow-600 text-white text-sm px-3 py-1 rounded-full font-bold\">\n                      <span>👑</span>\n                      <span>VIP</span>\n                    </div>\n                  </div>\n                </div>\n\n                <div>\n                  <p class=\"text-3xl font-bold text-orange-500 mb-2\">{{ selectedProduct.price | number:'':'fr-FR' }} FCFA</p>\n                </div>\n\n                <div>\n                  <h4 class=\"text-lg font-semibold text-gray-700 mb-2\">Description</h4>\n                  <p class=\"text-gray-600 leading-relaxed\">{{ selectedProduct.description }}</p>\n                </div>\n\n                <!-- Seller Information -->\n                <div class=\"bg-gray-50 p-4 rounded-lg\">\n                  <h4 class=\"text-lg font-semibold text-gray-700 mb-4\">Informations du vendeur</h4>\n                  <div class=\"space-y-3\">\n                    <div class=\"flex items-center space-x-3\">\n                      <span class=\"text-gray-500\">👤</span>\n                      <span class=\"font-medium\">{{ selectedProduct.seller.firstName }} {{ selectedProduct.seller.lastName }}</span>\n                    </div>\n                    <div class=\"flex items-center space-x-3\">\n                      <span class=\"text-gray-500\">📍</span>\n                      <span>{{ selectedProduct.seller.city }}</span>\n                    </div>\n                    <div class=\"flex items-center space-x-3\">\n                      <span class=\"text-gray-500\">📞</span>\n                      <span>{{ selectedProduct.seller.phone }}</span>\n                    </div>\n                    <div class=\"flex items-center space-x-3\">\n                      <span class=\"text-gray-500\">✉️</span>\n                      <span>{{ selectedProduct.seller.email }}</span>\n                    </div>\n                  </div>\n\n                  <!-- Contact Button -->\n                  <div class=\"mt-4\">\n                    <button *ngIf=\"selectedProduct.seller.whatsappLink\"\n                            (click)=\"whatsappSeller(selectedProduct.seller.whatsappLink!)\"\n                            class=\"w-full bg-green-500 text-white px-4 py-3 rounded-lg hover:bg-green-600 transition-colors font-medium flex items-center justify-center space-x-2\">\n                      <span>💬</span>\n                      <span>Contacter via WhatsApp</span>\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Close Button -->\n            <div class=\"flex justify-end mt-6 pt-4 border-t\">\n              <button (click)=\"closeProductModal()\"\n                      class=\"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors\">\n                Fermer\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n  </section>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { UserService } from '../../services/user.service';\nimport { Router } from '@angular/router';\nimport { User } from '../../models/user.model';\nimport { Photo } from '../../models/product.model';\n\ninterface Seller {\n  id: string;\n  firstName: string;\n  lastName: string;\n  email: string;\n  phone?: string;\n  whatsappLink?: string;\n  city?: string;\n}\n\ninterface Product {\n  id: string;\n  name: string;\n  description: string;\n  price: number;\n  category: string;\n  mainPhoto: string;\n  photos: Photo[];\n  seller: Seller;\n  isFeatured?: boolean;\n  vipStatus?: number;\n  featuredUntil?: string;\n}\n\ninterface ApiResponse {\n  products: Product[];\n  pagination: {\n    page: number;\n    limit: number;\n    total: number;\n    totalPages: number;\n  };\n}\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: []\n})\nexport class HomeComponent implements OnInit {\n  products: Product[] = [];\n  currentPage = 1;\n  totalPages = 1;\n  currentUser: User | null = null;\n  isLoggedIn = false;\n  showCallModal = false;\n  callPhoneNumber = '';\n  searchQuery = '';\n  selectedCategory = '';\n  selectedCity = '';\n  selectedPriceRange = '';\n  showProductModal = false;\n  selectedProduct: Product | null = null;\n\n  private readonly API_URL = 'http://localhost:3000/api/auth';\n\n  constructor(private http: HttpClient, private userService: UserService, private router: Router) {}\n\n  ngOnInit() {\n    this.loadProducts();\n    this.checkAuthStatus();\n  }\n\n  checkAuthStatus() {\n    this.isLoggedIn = this.userService.isLoggedIn();\n    if (this.isLoggedIn) {\n      this.userService.getCurrentUser().subscribe({\n        next: (response) => {\n          this.currentUser = response.user;\n        },\n        error: () => {\n          this.isLoggedIn = false;\n          this.currentUser = null;\n        }\n      });\n    }\n  }\n\n  logout() {\n    this.userService.logout().subscribe({\n      next: () => {\n        this.isLoggedIn = false;\n        this.currentUser = null;\n        this.router.navigate(['/login']);\n      },\n      error: () => {\n        // Even if logout fails, clear local state\n        this.isLoggedIn = false;\n        this.currentUser = null;\n        localStorage.removeItem('auth_token');\n        this.router.navigate(['/login']);\n      }\n    });\n  }\n\n  loadProducts(page = 1) {\n    this.userService.getProducts(page, 8, this.searchQuery, this.selectedCategory, this.selectedCity, this.selectedPriceRange).subscribe({\n      next: (response) => {\n        console.log('Products loaded:', response.products);\n        // Remove duplicates based on product id using Map for efficiency\n        const uniqueProducts = new Map<string, Product>();\n        response.products.forEach((product: Product) => {\n          console.log('Product:', product.name, 'Main photo:', product.mainPhoto);\n          if (!uniqueProducts.has(product.id)) {\n            uniqueProducts.set(product.id, product);\n          }\n        });\n        this.products = Array.from(uniqueProducts.values());\n        this.currentPage = response.pagination.page;\n        this.totalPages = response.pagination.totalPages;\n      },\n      error: (error) => {\n        console.error('Error loading products:', error);\n        // No fallback data - products will remain empty if API fails\n        this.products = [];\n      }\n    });\n  }\n\n  onSearchInput() {\n    if (this.searchQuery && this.searchQuery.length >= 2) {\n      this.currentPage = 1;\n      this.loadProducts();\n    } else if (!this.searchQuery || this.searchQuery.length === 0) {\n      this.currentPage = 1;\n      this.loadProducts();\n    }\n  }\n\n  onFilterChange() {\n    this.currentPage = 1;\n    this.loadProducts();\n  }\n\n  callSeller(phone: string) {\n    this.callPhoneNumber = phone;\n    this.showCallModal = true;\n  }\n\n  closeCallModal() {\n    this.showCallModal = false;\n    this.callPhoneNumber = '';\n  }\n\n  whatsappSeller(link: string) {\n    let whatsappUrl = link;\n    if (!whatsappUrl.includes('?text=')) {\n      whatsappUrl += (whatsappUrl.includes('?') ? '&' : '?') + 'text=Bonjour, je suis intéressé par votre produit.';\n    }\n    window.open(whatsappUrl, '_blank');\n  }\n\n  emailSeller(email: string) {\n    window.location.href = `mailto:${email}?subject=Intérêt pour votre produit&body=Bonjour, je suis intéressé par votre produit.`;\n  }\n\n  nextPage() {\n    if (this.currentPage < this.totalPages) {\n      this.loadProducts(this.currentPage + 1);\n    }\n  }\n\n  prevPage() {\n    if (this.currentPage > 1) {\n      this.loadProducts(this.currentPage - 1);\n    }\n  }\n\n  openProductModal(product: Product) {\n    this.selectedProduct = product;\n    this.showProductModal = true;\n  }\n\n  closeProductModal() {\n    this.showProductModal = false;\n    this.selectedProduct = null;\n  }\n\n  onImageError(event: any) {\n    console.error('Image failed to load:', event.target.src);\n    // Prevent infinite loop by checking if we're already trying to load the fallback\n    if (!event.target.src.includes('no-image.png')) {\n      event.target.src = 'http://localhost:3000/uploads/no-image.png';\n    } else {\n      console.error('Fallback image also failed to load');\n    }\n  }\n}","import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { UserService } from '../../services/user.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html'\n})\nexport class LoginComponent {\n  loginForm: FormGroup;\n  loading = false;\n  errorMessage = '';\n\n  constructor(\n    private fb: FormBuilder,\n    private userService: UserService,\n    private router: Router\n  ) {\n    this.loginForm = this.fb.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required, Validators.minLength(6)]]\n    });\n  }\n\n  onSubmit() {\n    if (this.loginForm.valid) {\n      this.loading = true;\n      this.errorMessage = '';\n\n      const { email, password } = this.loginForm.value;\n\n      this.userService.login(email, password).subscribe({\n        next: (response: any) => {\n          this.loading = false;\n          if (response.token) {\n            if (response.user.role === 'ADMIN') {\n              this.router.navigate(['/admin/dashboard']);\n            } else {\n              this.router.navigate(['/vendeur/dashboard']);\n            }\n          } else {\n            this.errorMessage = response.error || 'Erreur de connexion';\n          }\n        },\n        error: (error: any) => {\n          this.loading = false;\n          this.errorMessage = 'Erreur de connexion. Vérifiez vos identifiants.';\n        }\n      });\n    } else {\n      this.errorMessage = 'Veuillez remplir tous les champs correctement.';\n    }\n  }\n\n  goToRegister() {\n    this.router.navigate(['/register']);\n  }\n}","<div class=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n  <div class=\"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md\">\n    <div>\n      <h2 class=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">Connexion</h2>\n    </div>\n\n    <form [formGroup]=\"loginForm\" (ngSubmit)=\"onSubmit()\" class=\"mt-8 space-y-6\">\n      <div class=\"space-y-4\">\n        <div>\n          <label for=\"email\" class=\"block text-sm font-medium text-gray-700\">Email</label>\n          <input\n            type=\"email\"\n            id=\"email\"\n            formControlName=\"email\"\n            placeholder=\"votre@email.com\"\n            class=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-orange-500 focus:border-orange-500\"\n            [class.border-red-500]=\"loginForm.get('email')?.invalid && loginForm.get('email')?.touched\"\n          >\n          <p class=\"mt-1 text-sm text-red-600\" *ngIf=\"loginForm.get('email')?.invalid && loginForm.get('email')?.touched\">\n            <span *ngIf=\"loginForm.get('email')?.errors?.['required']\">L'email est requis</span>\n            <span *ngIf=\"loginForm.get('email')?.errors?.['email']\">Format d'email invalide</span>\n          </p>\n        </div>\n\n        <div>\n          <label for=\"password\" class=\"block text-sm font-medium text-gray-700\">Mot de passe</label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            formControlName=\"password\"\n            placeholder=\"Votre mot de passe\"\n            class=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-orange-500 focus:border-orange-500\"\n            [class.border-red-500]=\"loginForm.get('password')?.invalid && loginForm.get('password')?.touched\"\n          >\n          <p class=\"mt-1 text-sm text-red-600\" *ngIf=\"loginForm.get('password')?.invalid && loginForm.get('password')?.touched\">\n            <span *ngIf=\"loginForm.get('password')?.errors?.['required']\">Le mot de passe est requis</span>\n            <span *ngIf=\"loginForm.get('password')?.errors?.['minlength']\">Le mot de passe doit contenir au moins 6 caractères</span>\n          </p>\n        </div>\n      </div>\n\n      <div class=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\" *ngIf=\"errorMessage\">\n        {{ errorMessage }}\n      </div>\n\n      <div>\n        <button\n          type=\"submit\"\n          class=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n          [disabled]=\"loading\"\n        >\n          <span *ngIf=\"loading\">Connexion en cours...</span>\n          <span *ngIf=\"!loading\">Se connecter</span>\n        </button>\n      </div>\n    </form>\n\n    <div class=\"text-center\">\n      <p class=\"text-sm text-gray-600\">\n        Pas encore de compte ?\n        <button (click)=\"goToRegister()\" class=\"font-medium text-orange-600 hover:text-orange-500\">S'inscrire</button>\n      </p>\n    </div>\n  </div>\n</div>","import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { UserService } from '../../services/user.service';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html'\n})\nexport class RegisterComponent {\n  registerForm: FormGroup;\n  loading = false;\n  errorMessage = '';\n  cities = ['Dakar', 'Thiès', 'Saint-Louis', 'Kaolack', 'Ziguinchor'];\n\n  constructor(\n    private fb: FormBuilder,\n    private userService: UserService,\n    private router: Router\n  ) {\n    this.registerForm = this.fb.group({\n      firstName: ['', [Validators.required, Validators.minLength(1)]],\n      lastName: ['', [Validators.required, Validators.minLength(1)]],\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required, Validators.minLength(6)]],\n      confirmPassword: ['', [Validators.required]],\n      phone: ['', [Validators.required]],\n      whatsappLink: [''],\n      city: ['', [Validators.required]]\n    }, { validators: this.passwordMatchValidator });\n  }\n\n  passwordMatchValidator(form: FormGroup) {\n    const password = form.get('password');\n    const confirmPassword = form.get('confirmPassword');\n\n    if (password && confirmPassword && password.value !== confirmPassword.value) {\n      confirmPassword.setErrors({ mismatch: true });\n      return { mismatch: true };\n    }\n\n    return null;\n  }\n\n  onSubmit() {\n    if (this.registerForm.valid) {\n      this.loading = true;\n      this.errorMessage = '';\n\n      const formData = this.registerForm.value;\n\n      const userData = {\n        email: formData.email,\n        password: formData.password,\n        firstName: formData.firstName,\n        lastName: formData.lastName,\n        phone: formData.phone,\n        whatsappLink: formData.whatsappLink || undefined,\n        city: formData.city || undefined\n      };\n\n      this.userService.register(userData).subscribe({\n        next: (response: any) => {\n          this.loading = false;\n          if (response.message === 'Seller created successfully') {\n            this.router.navigate(['/login']);\n          } else {\n            this.errorMessage = response.error || 'Erreur lors de l\\'inscription';\n          }\n        },\n        error: (error: any) => {\n          this.loading = false;\n          console.error('Registration error:', error);\n          if (error.error && error.error.errors && Array.isArray(error.error.errors)) {\n            // Validation errors from express-validator\n            this.errorMessage = error.error.errors.map((err: any) => err.message).join(', ');\n          } else if (error.error && error.error.error) {\n            // Other backend errors\n            this.errorMessage = error.error.error;\n          } else {\n            this.errorMessage = 'Erreur lors de l\\'inscription. Vérifiez vos informations.';\n          }\n        }\n      });\n    } else {\n      this.errorMessage = 'Veuillez remplir tous les champs obligatoires correctement.';\n    }\n  }\n\n  goToLogin() {\n    this.router.navigate(['/login']);\n  }\n}","<div class=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n  <div class=\"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md\">\n    <div>\n      <h2 class=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">Inscription</h2>\n    </div>\n\n    <form [formGroup]=\"registerForm\" (ngSubmit)=\"onSubmit()\" class=\"mt-8 space-y-6\">\n      <div class=\"grid grid-cols-1 gap-6 sm:grid-cols-2\">\n        <div>\n          <label for=\"firstName\" class=\"block text-sm font-medium text-gray-700\">Prénom *</label>\n          <input\n            type=\"text\"\n            id=\"firstName\"\n            formControlName=\"firstName\"\n            placeholder=\"Votre prénom\"\n            class=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-orange-500 focus:border-orange-500\"\n            [class.border-red-500]=\"registerForm.get('firstName')?.invalid && registerForm.get('firstName')?.touched\"\n          >\n          <p class=\"mt-1 text-sm text-red-600\" *ngIf=\"registerForm.get('firstName')?.invalid && registerForm.get('firstName')?.touched\">\n            Le prénom est requis\n          </p>\n        </div>\n\n        <div>\n          <label for=\"lastName\" class=\"block text-sm font-medium text-gray-700\">Nom *</label>\n          <input\n            type=\"text\"\n            id=\"lastName\"\n            formControlName=\"lastName\"\n            placeholder=\"Votre nom\"\n            class=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-orange-500 focus:border-orange-500\"\n            [class.border-red-500]=\"registerForm.get('lastName')?.invalid && registerForm.get('lastName')?.touched\"\n          >\n          <p class=\"mt-1 text-sm text-red-600\" *ngIf=\"registerForm.get('lastName')?.invalid && registerForm.get('lastName')?.touched\">\n            Le nom est requis\n          </p>\n        </div>\n      </div>\n\n      <div>\n        <label for=\"email\" class=\"block text-sm font-medium text-gray-700\">Email *</label>\n        <input\n          type=\"email\"\n          id=\"email\"\n          formControlName=\"email\"\n          placeholder=\"votre@email.com\"\n          class=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-orange-500 focus:border-orange-500\"\n          [class.border-red-500]=\"registerForm.get('email')?.invalid && registerForm.get('email')?.touched\"\n        >\n        <p class=\"mt-1 text-sm text-red-600\" *ngIf=\"registerForm.get('email')?.invalid && registerForm.get('email')?.touched\">\n          <span *ngIf=\"registerForm.get('email')?.errors?.['required']\">L'email est requis</span>\n          <span *ngIf=\"registerForm.get('email')?.errors?.['email']\">Format d'email invalide</span>\n        </p>\n      </div>\n\n      <div>\n        <label for=\"password\" class=\"block text-sm font-medium text-gray-700\">Mot de passe *</label>\n        <input\n          type=\"password\"\n          id=\"password\"\n          formControlName=\"password\"\n          placeholder=\"Votre mot de passe\"\n          class=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-orange-500 focus:border-orange-500\"\n          [class.border-red-500]=\"registerForm.get('password')?.invalid && registerForm.get('password')?.touched\"\n        >\n        <p class=\"mt-1 text-sm text-red-600\" *ngIf=\"registerForm.get('password')?.invalid && registerForm.get('password')?.touched\">\n          <span *ngIf=\"registerForm.get('password')?.errors?.['required']\">Le mot de passe est requis</span>\n          <span *ngIf=\"registerForm.get('password')?.errors?.['minlength']\">Le mot de passe doit contenir au moins 6 caractères</span>\n        </p>\n      </div>\n\n      <div>\n        <label for=\"confirmPassword\" class=\"block text-sm font-medium text-gray-700\">Confirmer le mot de passe *</label>\n        <input\n          type=\"password\"\n          id=\"confirmPassword\"\n          formControlName=\"confirmPassword\"\n          placeholder=\"Confirmez votre mot de passe\"\n          class=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-orange-500 focus:border-orange-500\"\n          [class.border-red-500]=\"registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched\"\n        >\n        <p class=\"mt-1 text-sm text-red-600\" *ngIf=\"registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched\">\n          <span *ngIf=\"registerForm.get('confirmPassword')?.errors?.['required']\">La confirmation du mot de passe est requise</span>\n          <span *ngIf=\"registerForm.get('confirmPassword')?.errors?.['mismatch']\">Les mots de passe ne correspondent pas</span>\n        </p>\n      </div>\n\n      <div class=\"grid grid-cols-1 gap-6 sm:grid-cols-2\">\n        <div>\n          <label for=\"phone\" class=\"block text-sm font-medium text-gray-700\">Téléphone *</label>\n          <input\n            type=\"tel\"\n            id=\"phone\"\n            formControlName=\"phone\"\n            placeholder=\"77 123 45 67\"\n            class=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-orange-500 focus:border-orange-500\"\n            [class.border-red-500]=\"registerForm.get('phone')?.invalid && registerForm.get('phone')?.touched\"\n          >\n          <p class=\"mt-1 text-sm text-red-600\" *ngIf=\"registerForm.get('phone')?.invalid && registerForm.get('phone')?.touched\">\n            Le numéro de téléphone est requis\n          </p>\n        </div>\n\n        <div>\n          <label for=\"city\" class=\"block text-sm font-medium text-gray-700\">Ville *</label>\n          <select id=\"city\" formControlName=\"city\" class=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500\"\n                  [class.border-red-500]=\"registerForm.get('city')?.invalid && registerForm.get('city')?.touched\">\n            <option value=\"\">Sélectionner une ville</option>\n            <option *ngFor=\"let city of cities\" [value]=\"city\">{{ city }}</option>\n          </select>\n          <p class=\"mt-1 text-sm text-red-600\" *ngIf=\"registerForm.get('city')?.invalid && registerForm.get('city')?.touched\">\n            La ville est requise\n          </p>\n        </div>\n      </div>\n\n      <div>\n        <label for=\"whatsappLink\" class=\"block text-sm font-medium text-gray-700\">Lien WhatsApp</label>\n        <input\n          type=\"url\"\n          id=\"whatsappLink\"\n          formControlName=\"whatsappLink\"\n          placeholder=\"https://wa.me/221771234567\"\n          class=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-orange-500 focus:border-orange-500\"\n        >\n      </div>\n\n\n      <div class=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\" *ngIf=\"errorMessage\">\n        {{ errorMessage }}\n      </div>\n\n      <div>\n        <button\n          type=\"submit\"\n          class=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n          [disabled]=\"loading\"\n        >\n          <span *ngIf=\"loading\">Inscription en cours...</span>\n          <span *ngIf=\"!loading\">S'inscrire</span>\n        </button>\n      </div>\n    </form>\n\n    <div class=\"text-center\">\n      <p class=\"text-sm text-gray-600\">\n        Déjà un compte ?\n        <button (click)=\"goToLogin()\" class=\"font-medium text-orange-600 hover:text-orange-500\">Se connecter</button>\n      </p>\n    </div>\n  </div>\n</div>","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Observable, tap } from 'rxjs';\nimport { User } from '../models/user.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserService {\n  private readonly API_URL = 'http://localhost:3000/api/auth';\n  private readonly TOKEN_KEY = 'auth_token';\n\n  constructor(private http: HttpClient) {}\n\n  private getHeaders(): HttpHeaders {\n    const token = this.getToken();\n    return new HttpHeaders({\n      ...(token && { Authorization: `Bearer ${token}` })\n    });\n  }\n\n  private getJsonHeaders(): HttpHeaders {\n    const token = this.getToken();\n    return new HttpHeaders({\n      'Content-Type': 'application/json',\n      ...(token && { Authorization: `Bearer ${token}` })\n    });\n  }\n\n  private getToken(): string | null {\n    return localStorage.getItem(this.TOKEN_KEY);\n  }\n\n  private setToken(token: string): void {\n    localStorage.setItem(this.TOKEN_KEY, token);\n  }\n\n  register(userData: {\n    email: string;\n    password: string;\n    firstName: string;\n    lastName: string;\n    phone?: string;\n    whatsappLink?: string;\n    city?: string;\n    profilePhoto?: File;\n  }): Observable<any> {\n    const formData = new FormData();\n    formData.append('email', userData.email);\n    formData.append('password', userData.password);\n    formData.append('firstName', userData.firstName);\n    formData.append('lastName', userData.lastName);\n    if (userData.phone) formData.append('phone', userData.phone);\n    if (userData.whatsappLink) formData.append('whatsappLink', userData.whatsappLink);\n    if (userData.city) formData.append('city', userData.city);\n    if (userData.profilePhoto) formData.append('profilePhoto', userData.profilePhoto);\n\n    return this.http.post(`${this.API_URL}/register-seller`, formData, { headers: this.getHeaders() });\n  }\n\n  login(email: string, password: string): Observable<any> {\n    return this.http.post(`${this.API_URL}/login`, { email, password }, { headers: this.getHeaders() })\n      .pipe(\n        tap((response: any) => {\n          if (response.token) {\n            this.setToken(response.token);\n          }\n        })\n      );\n  }\n\n  logout(): Observable<any> {\n    return this.http.post(`${this.API_URL}/logout`, {}, { headers: this.getHeaders() })\n      .pipe(\n        tap(() => {\n          localStorage.removeItem(this.TOKEN_KEY);\n        })\n      );\n  }\n\n  getCurrentUser(): Observable<any> {\n    return this.http.get(`${this.API_URL}/me`, { headers: this.getHeaders() });\n  }\n\n  changePassword(data: { currentPassword: string; newPassword: string }): Observable<any> {\n    return this.http.put(`${this.API_URL}/change-password`, data, { headers: this.getHeaders() });\n  }\n\n  initialChangePassword(data: { email: string; newPassword: string }): Observable<any> {\n    return this.http.put(`${this.API_URL}/initial-change-password`, data, { headers: this.getHeaders() });\n  }\n\n  completeFirstLogin(data: { firstName: string; lastName: string; newPassword: string }): Observable<any> {\n    return this.http.post(`${this.API_URL}/complete-first-login`, data, { headers: this.getHeaders() });\n  }\n\n  isLoggedIn(): boolean {\n    return !!this.getToken();\n  }\n\n  createProduct(productData: FormData): Observable<any> {\n    return this.http.post('http://localhost:3000/api/auth/products', productData, { headers: this.getHeaders() });\n  }\n\n  getProducts(page: number = 1, limit: number = 8, search?: string, category?: string, city?: string, priceRange?: string): Observable<any> {\n    let url = `http://localhost:3000/api/auth/products?page=${page}&limit=${limit}`;\n    if (search) url += `&search=${encodeURIComponent(search)}`;\n    if (category) url += `&category=${encodeURIComponent(category)}`;\n    if (city) url += `&city=${encodeURIComponent(city)}`;\n    if (priceRange) url += `&priceRange=${encodeURIComponent(priceRange)}`;\n    return this.http.get(url, { headers: this.getJsonHeaders() });\n  }\n\n  getPendingProducts(): Observable<any> {\n    return this.http.get('http://localhost:3000/api/auth/products/pending', { headers: this.getJsonHeaders() });\n  }\n\n  updateProductStatus(productId: string, status: string, isFeatured?: boolean): Observable<any> {\n    const body: any = { productId, status };\n    if (isFeatured !== undefined) {\n      body.isFeatured = isFeatured;\n    }\n    return this.http.put('http://localhost:3000/api/auth/products/status', body, { headers: this.getJsonHeaders() });\n  }\n\n  getSellerProducts(): Observable<any> {\n    return this.http.get('http://localhost:3000/api/auth/products/seller', { headers: this.getJsonHeaders() });\n  }\n\n  getAllSellers(page: number = 1, limit: number = 8): Observable<any> {\n    return this.http.get(`http://localhost:3000/api/auth/sellers?page=${page}&limit=${limit}`, { headers: this.getJsonHeaders() });\n  }\n\n  buyCredits(amount: number, productId?: string): Observable<any> {\n    const body: any = { amount };\n    if (productId) {\n      body.productId = productId;\n    }\n    return this.http.post('http://localhost:3000/api/auth/buy-credits', body, { headers: this.getJsonHeaders() });\n  }\n\n  getNotifications(page: number = 1, limit: number = 4): Observable<any> {\n    return this.http.get(`http://localhost:3000/api/auth/notifications?page=${page}&limit=${limit}`, { headers: this.getJsonHeaders() });\n  }\n\n  markNotificationAsRead(notificationId: string): Observable<any> {\n    return this.http.put(`http://localhost:3000/api/auth/notifications/${notificationId}/read`, {}, { headers: this.getJsonHeaders() });\n  }\n\n  getUnreadNotificationsCount(): Observable<any> {\n    return this.http.get('http://localhost:3000/api/auth/notifications/unread-count', { headers: this.getJsonHeaders() });\n  }\n\n  resetUnreadNotificationsCount(): Observable<any> {\n    return this.http.put('http://localhost:3000/api/auth/notifications/reset-unread-count', {}, { headers: this.getJsonHeaders() });\n  }\n}","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { UserService } from '../../services/user.service';\nimport { Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\ninterface User {\n  id: string;\n  email: string;\n  firstName: string;\n  lastName: string;\n  role: string;\n}\n\n@Component({\n  selector: 'app-admin-navbar',\n  templateUrl: './admin-navbar.component.html',\n  styleUrls: ['./admin-navbar.component.scss']\n})\nexport class AdminNavbarComponent implements OnInit, OnDestroy {\n  currentUser: User | null = null;\n  unreadNotificationsCount = 0;\n  private routerSubscription: Subscription = new Subscription();\n\n  constructor(private router: Router, private userService: UserService) {}\n\n  ngOnInit() {\n    this.loadCurrentUser();\n    this.loadUnreadNotificationsCount();\n\n    // Listen to route changes to reset unread count when entering notifications page\n    this.routerSubscription = this.router.events\n      .pipe(filter((event): event is NavigationEnd => event instanceof NavigationEnd))\n      .subscribe((event) => {\n        if (event.url === '/admin/notifications') {\n          // Reset unread count to 0 when entering notifications page\n          this.unreadNotificationsCount = 0;\n        } else {\n          // Load unread count when navigating to other pages\n          this.loadUnreadNotificationsCount();\n        }\n      });\n  }\n\n  ngOnDestroy() {\n    this.routerSubscription.unsubscribe();\n  }\n\n  loadCurrentUser() {\n    this.userService.getCurrentUser().subscribe({\n      next: (response) => {\n        this.currentUser = response.user;\n      },\n      error: () => {\n        this.router.navigate(['/login']);\n      }\n    });\n  }\n\n  loadUnreadNotificationsCount() {\n    this.userService.getUnreadNotificationsCount().subscribe({\n      next: (response) => {\n        this.unreadNotificationsCount = response.count;\n      },\n      error: (error) => {\n        console.error('Error loading unread notifications count:', error);\n        this.unreadNotificationsCount = 0;\n      }\n    });\n  }\n\n  resetUnreadCount() {\n    this.unreadNotificationsCount = 0;\n  }\n\n  isActiveRoute(route: string): boolean {\n    return this.router.url === route;\n  }\n\n  logout() {\n    this.userService.logout().subscribe({\n      next: () => {\n        this.router.navigate(['/login']);\n      },\n      error: () => {\n        // Even if logout fails, clear local state\n        localStorage.removeItem('auth_token');\n        this.router.navigate(['/login']);\n      }\n    });\n  }\n}\n","<header class=\"bg-orange-500 text-white px-8 py-4 flex justify-between items-center shadow-md fixed top-0 left-56 right-0 z-20\">\n  <h1 class=\"text-2xl font-bold text-white\">\n    <span *ngIf=\"isActiveRoute('/admin/dashboard')\">Tableau de bord</span>\n    <span *ngIf=\"isActiveRoute('/admin/vendeurs')\">Vendeurs</span>\n    <span *ngIf=\"isActiveRoute('/admin/produits')\">Produits</span>\n    <span *ngIf=\"isActiveRoute('/admin/notifications')\">Notifications</span>\n    <span *ngIf=\"isActiveRoute('/admin/parametres')\">Paramètres</span>\n  </h1>\n  <div class=\"flex items-center space-x-4\">\n    <div class=\"text-right\" *ngIf=\"currentUser\">\n      <div class=\"font-bold\">{{ currentUser.firstName }} {{ currentUser.lastName }} <span class=\"text-sm opacity-90\">({{ currentUser.role }})</span></div>\n    </div>\n  </div>\n</header>\n","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\n\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"names":["RouterModule","LoginComponent","RegisterComponent","DashboardAdminComponent","DashboardVendeurComponent","HomeComponent","AdminVendeursComponent","AdminProduitsComponent","AdminNotificationsComponent","BuyCreditsComponent","routes","path","component","redirectTo","pathMatch","AppRoutingModule","forRoot","imports","exports","AppComponent","constructor","selectors","decls","vars","template","i0","LOCALE_ID","BrowserModule","HttpClientModule","ReactiveFormsModule","FormsModule","registerLocaleData","localeFr","NgChartsModule","AdminNavbarComponent","AppModule","bootstrap","provide","useValue","declarations","PRODUCT_CATEGORIES","value","label","NavigationEnd","Subscription","filter","userService","router","resetNavbarUnreadCount","resetUnreadNotificationsCount","subscribe","next","error","console","ngOnInit","loadCurrentUser","loadNotifications","routerSubscription","events","pipe","event","url","ngOnDestroy","unsubscribe","getCurrentUser","response","currentUser","user","navigate","page","loading","getNotifications","notifications","map","notification","id","type","title","message","createdAt","Date","read","sellerId","productId","currentPage","pagination","totalPages","markAsRead","markNotificationAsRead","toString","approveProduct","updateProductStatus","alert","rejectProduct","nextPage","prevPage","logout","consts","ctx","ctx_r27","ctx_r30","ctx_r32","loadProducts","log","loadingProducts","getPendingProducts","allProducts","products","applyFilters","length","totalProducts","isActiveRoute","route","getPhotoUrl","startsWith","onImageError","photo","target","src","includes","filteredProducts","searchQuery","product","name","toLowerCase","seller","firstName","lastName","selectedFilter","vipStatus","status","Math","ceil","itemsPerPage","startIndex","endIndex","slice","onSearchInput","onFilterChange","openProductModal","selectedProduct","showProductModal","closeProductModal","openPhotoModal","photoUrl","alt","selectedPhotoUrl","selectedPhotoAlt","showPhotoModal","closePhotoModal","goToPage","productIndex","findIndex","p","toggleFeatured","isFeatured","checked","loadSellers","loadingSellers","getAllSellers","sellers","allSellers","totalSellers","total","filteredSellers","credits","ctx_r6","loadUserProducts","loadCurrentUserCredits","getSellerProducts","userProducts","currentUserCredits","selectPlan","duration","selectedPlan","selectProduct","cancelSelection","purchaseCredits","buyCredits","pendingProducts","approvedProducts","rejectedProducts","vipProducts","labels","datasets","data","backgroundColor","borderColor","borderWidth","responsive","plugins","legend","display","text","scales","y","beginAtZero","position","loadStats","loadPendingProducts","stats","updateCharts","barChartData","pieChartData","showAllPhotos","photos","Validators","fb","productForm","group","required","category","description","price","min","mainPhoto","secondaryPhotos","loadSellerProducts","localStorage","removeItem","showCreditsView","showAddProductForm","selectCreditPlan","plan","selectProductForCredits","selectedProductForCredits","cancelCreditsPurchase","allSellerProducts","applyPagination","sellerProducts","onSubmitProduct","valid","formData","FormData","append","secondaryPhotoFiles","i","createProduct","reset","capturedImage","photoCaptured","showCamera","cameraStream","getTracks","forEach","track","stop","secondaryCameraStream","errors","Array","isArray","errorMessages","err","join","getProductsByStatus","getVipProductsCount","getDaysRemaining","featuredUntil","endDate","today","diffTime","getTime","diffDays","max","isProductCurrentlyFeatured","isCurrentlyFeatured","startCamera","navigator","mediaDevices","getUserMedia","video","then","stream","videoElement","document","getElementById","srcObject","catch","stopCamera","capturePhoto","canvasElement","readyState","videoWidth","videoHeight","context","getContext","width","height","drawImage","toDataURL","toBlob","blob","size","file","File","patchValue","confirmPhoto","retakePhoto","removeCapturedImage","getVideoDimensions","addSecondaryPhoto","startSecondaryCamera","showSecondaryCamera","captureSecondaryPhoto","imageUrl","dataURLToBlob","push","stopSecondaryCamera","removeSecondaryPhoto","index","splice","dataURL","arr","split","mime","match","bstr","atob","n","u8arr","Uint8Array","charCodeAt","Blob","http","checkAuthStatus","isLoggedIn","getProducts","selectedCategory","selectedCity","selectedPriceRange","uniqueProducts","Map","has","set","from","values","callSeller","phone","callPhoneNumber","showCallModal","closeCallModal","whatsappSeller","link","whatsappUrl","window","open","emailSeller","email","location","href","loginForm","password","minLength","onSubmit","errorMessage","login","token","role","goToRegister","registerForm","confirmPassword","whatsappLink","city","validators","passwordMatchValidator","form","get","setErrors","mismatch","userData","undefined","register","goToLogin","HttpHeaders","tap","UserService","getHeaders","getToken","Authorization","getJsonHeaders","getItem","TOKEN_KEY","setToken","setItem","profilePhoto","post","API_URL","headers","changePassword","put","initialChangePassword","completeFirstLogin","productData","limit","search","priceRange","encodeURIComponent","body","amount","notificationId","getUnreadNotificationsCount","factory","providedIn","loadUnreadNotificationsCount","unreadNotificationsCount","count","resetUnreadCount","__NgCli_bootstrap_1","bootstrapModule"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}